{"id":"zB5B","dependencies":[{"name":"C:\\Users\\user\\Documents\\GitHub\\Tweet-Plugin\\package.json","includedInParent":true,"mtime":1681685714954},{"name":"C:\\Users\\user\\Documents\\GitHub\\Tweet-Plugin\\node_modules\\natural\\package.json","includedInParent":true,"mtime":1681673273006},{"name":"./Element","loc":{"line":27,"column":24,"index":1219},"parent":"C:\\Users\\user\\Documents\\GitHub\\Tweet-Plugin\\node_modules\\natural\\lib\\natural\\classifiers\\maxent\\Feature.js","resolved":"C:\\Users\\user\\Documents\\GitHub\\Tweet-Plugin\\node_modules\\natural\\lib\\natural\\classifiers\\maxent\\Element.js"}],"generated":{"js":"\"use strict\";const t=require(\"./Element\");function e(t,e,o){this.evaluate=t,this.name=e,this.parameters=o;let n=\"\";o.forEach(function(t){n+=t+\"|\"}),this.parametersKey=n.substr(0,n.length-1)}e.prototype.apply=function(t){return this.evaluate(t)},e.prototype.expectationApprox=function(e,o){const n=this;let r=0;const s={},c=o.getClasses();return o.elements.forEach(function(i){const a=i.b;s[a.toString()]||(s[a.toString()]=!0,c.forEach(function(s){const c=new t(s,a);r+=o.observedProbabilityOfContext(a)*e.calculateAPosteriori(c)*n.apply(c)}))}),r},e.prototype.expectation=function(e,o,n){let r=0;const s=this;return o.forEach(function(o){n.forEach(function(n){const c=new t(o,n);r+=e.calculateAPriori(c)*s.apply(c)})}),r},e.prototype.observedExpectation=function(t){if(this.observedExpect)return this.observedExpect;const e=t.size();let o=0;const n=this;return t.elements.forEach(function(t){o+=n.apply(t)}),this.observedExpect=o/e,this.observedExpect},module.exports=e;"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","original":{"line":25,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","original":{"line":27,"column":0},"generated":{"line":1,"column":13}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"Element","original":{"line":27,"column":6},"generated":{"line":1,"column":19}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"require","original":{"line":27,"column":16},"generated":{"line":1,"column":21}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","original":{"line":27,"column":24},"generated":{"line":1,"column":29}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","original":{"line":29,"column":0},"generated":{"line":1,"column":42}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"Feature","original":{"line":29,"column":9},"generated":{"line":1,"column":51}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"f","original":{"line":29,"column":18},"generated":{"line":1,"column":53}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"name","original":{"line":29,"column":21},"generated":{"line":1,"column":55}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"parameters","original":{"line":29,"column":27},"generated":{"line":1,"column":57}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","original":{"line":30,"column":2},"generated":{"line":1,"column":60}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"evaluate","original":{"line":30,"column":7},"generated":{"line":1,"column":65}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"f","original":{"line":30,"column":18},"generated":{"line":1,"column":74}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","original":{"line":31,"column":2},"generated":{"line":1,"column":76}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"name","original":{"line":31,"column":7},"generated":{"line":1,"column":81}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"name","original":{"line":31,"column":14},"generated":{"line":1,"column":86}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","original":{"line":32,"column":2},"generated":{"line":1,"column":88}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"parameters","original":{"line":32,"column":7},"generated":{"line":1,"column":93}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"parameters","original":{"line":32,"column":20},"generated":{"line":1,"column":104}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","original":{"line":34,"column":2},"generated":{"line":1,"column":106}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"tmp","original":{"line":34,"column":6},"generated":{"line":1,"column":110}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","original":{"line":34,"column":12},"generated":{"line":1,"column":112}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"parameters","original":{"line":35,"column":2},"generated":{"line":1,"column":115}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"forEach","original":{"line":35,"column":13},"generated":{"line":1,"column":117}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","original":{"line":35,"column":21},"generated":{"line":1,"column":125}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"par","original":{"line":35,"column":31},"generated":{"line":1,"column":134}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"tmp","original":{"line":36,"column":4},"generated":{"line":1,"column":137}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"par","original":{"line":36,"column":11},"generated":{"line":1,"column":140}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","original":{"line":36,"column":17},"generated":{"line":1,"column":142}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","original":{"line":38,"column":2},"generated":{"line":1,"column":148}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"parametersKey","original":{"line":38,"column":7},"generated":{"line":1,"column":153}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"tmp","original":{"line":38,"column":23},"generated":{"line":1,"column":167}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"substr","original":{"line":38,"column":27},"generated":{"line":1,"column":169}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","original":{"line":38,"column":34},"generated":{"line":1,"column":176}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"tmp","original":{"line":38,"column":37},"generated":{"line":1,"column":178}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"length","original":{"line":38,"column":41},"generated":{"line":1,"column":180}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","original":{"line":38,"column":50},"generated":{"line":1,"column":187}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"Feature","original":{"line":41,"column":0},"generated":{"line":1,"column":190}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"prototype","original":{"line":41,"column":8},"generated":{"line":1,"column":192}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"apply","original":{"line":41,"column":18},"generated":{"line":1,"column":202}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","original":{"line":41,"column":26},"generated":{"line":1,"column":208}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"x","original":{"line":41,"column":36},"generated":{"line":1,"column":217}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","original":{"line":42,"column":2},"generated":{"line":1,"column":220}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","original":{"line":42,"column":9},"generated":{"line":1,"column":227}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"evaluate","original":{"line":42,"column":14},"generated":{"line":1,"column":232}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"x","original":{"line":42,"column":23},"generated":{"line":1,"column":241}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"Feature","original":{"line":45,"column":0},"generated":{"line":1,"column":245}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"prototype","original":{"line":45,"column":8},"generated":{"line":1,"column":247}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"expectationApprox","original":{"line":45,"column":18},"generated":{"line":1,"column":257}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","original":{"line":45,"column":38},"generated":{"line":1,"column":275}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"p","original":{"line":45,"column":48},"generated":{"line":1,"column":284}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"sample","original":{"line":45,"column":51},"generated":{"line":1,"column":286}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","original":{"line":46,"column":2},"generated":{"line":1,"column":289}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"that","original":{"line":46,"column":8},"generated":{"line":1,"column":295}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","original":{"line":46,"column":15},"generated":{"line":1,"column":297}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","original":{"line":47,"column":2},"generated":{"line":1,"column":302}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"sum","original":{"line":47,"column":6},"generated":{"line":1,"column":306}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","original":{"line":47,"column":12},"generated":{"line":1,"column":308}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","original":{"line":48,"column":2},"generated":{"line":1,"column":310}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"seen","original":{"line":48,"column":8},"generated":{"line":1,"column":316}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","original":{"line":48,"column":15},"generated":{"line":1,"column":318}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"A","original":{"line":49,"column":8},"generated":{"line":1,"column":321}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"sample","original":{"line":49,"column":12},"generated":{"line":1,"column":323}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"getClasses","original":{"line":49,"column":19},"generated":{"line":1,"column":325}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","original":{"line":62,"column":2},"generated":{"line":1,"column":338}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"sample","original":{"line":50,"column":2},"generated":{"line":1,"column":345}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"elements","original":{"line":50,"column":9},"generated":{"line":1,"column":347}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"forEach","original":{"line":50,"column":18},"generated":{"line":1,"column":356}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","original":{"line":50,"column":26},"generated":{"line":1,"column":364}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"sampleElement","original":{"line":50,"column":36},"generated":{"line":1,"column":373}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","original":{"line":51,"column":4},"generated":{"line":1,"column":376}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"bi","original":{"line":51,"column":10},"generated":{"line":1,"column":382}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"sampleElement","original":{"line":51,"column":15},"generated":{"line":1,"column":384}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"b","original":{"line":51,"column":29},"generated":{"line":1,"column":386}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"seen","original":{"line":53,"column":9},"generated":{"line":1,"column":388}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"bi","original":{"line":53,"column":14},"generated":{"line":1,"column":390}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"toString","original":{"line":53,"column":17},"generated":{"line":1,"column":392}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"seen","original":{"line":54,"column":6},"generated":{"line":1,"column":406}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"bi","original":{"line":54,"column":11},"generated":{"line":1,"column":408}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"toString","original":{"line":54,"column":14},"generated":{"line":1,"column":410}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","original":{"line":54,"column":28},"generated":{"line":1,"column":423}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"A","original":{"line":56,"column":6},"generated":{"line":1,"column":425}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"forEach","original":{"line":56,"column":8},"generated":{"line":1,"column":427}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","original":{"line":56,"column":16},"generated":{"line":1,"column":435}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"a","original":{"line":56,"column":26},"generated":{"line":1,"column":444}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","original":{"line":57,"column":8},"generated":{"line":1,"column":447}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"x","original":{"line":57,"column":14},"generated":{"line":1,"column":453}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","original":{"line":57,"column":18},"generated":{"line":1,"column":455}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"Element","original":{"line":57,"column":22},"generated":{"line":1,"column":459}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"a","original":{"line":57,"column":30},"generated":{"line":1,"column":461}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"bi","original":{"line":57,"column":33},"generated":{"line":1,"column":463}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"sum","original":{"line":58,"column":8},"generated":{"line":1,"column":466}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"sample","original":{"line":58,"column":15},"generated":{"line":1,"column":469}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"observedProbabilityOfContext","original":{"line":58,"column":22},"generated":{"line":1,"column":471}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"bi","original":{"line":58,"column":51},"generated":{"line":1,"column":500}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"p","original":{"line":58,"column":57},"generated":{"line":1,"column":503}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"calculateAPosteriori","original":{"line":58,"column":59},"generated":{"line":1,"column":505}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"x","original":{"line":58,"column":80},"generated":{"line":1,"column":526}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"that","original":{"line":58,"column":85},"generated":{"line":1,"column":529}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"apply","original":{"line":58,"column":90},"generated":{"line":1,"column":531}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"x","original":{"line":58,"column":96},"generated":{"line":1,"column":537}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"sum","original":{"line":62,"column":9},"generated":{"line":1,"column":545}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"Feature","original":{"line":67,"column":0},"generated":{"line":1,"column":548}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"prototype","original":{"line":67,"column":8},"generated":{"line":1,"column":550}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"expectation","original":{"line":67,"column":18},"generated":{"line":1,"column":560}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","original":{"line":67,"column":32},"generated":{"line":1,"column":572}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"p","original":{"line":67,"column":42},"generated":{"line":1,"column":581}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"A","original":{"line":67,"column":45},"generated":{"line":1,"column":583}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"B","original":{"line":67,"column":48},"generated":{"line":1,"column":585}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","original":{"line":68,"column":2},"generated":{"line":1,"column":588}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"sum","original":{"line":68,"column":6},"generated":{"line":1,"column":592}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","original":{"line":68,"column":12},"generated":{"line":1,"column":594}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","original":{"line":69,"column":2},"generated":{"line":1,"column":596}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"that","original":{"line":69,"column":8},"generated":{"line":1,"column":602}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","original":{"line":69,"column":15},"generated":{"line":1,"column":604}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","original":{"line":76,"column":2},"generated":{"line":1,"column":609}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"A","original":{"line":70,"column":2},"generated":{"line":1,"column":616}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"forEach","original":{"line":70,"column":4},"generated":{"line":1,"column":618}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","original":{"line":70,"column":12},"generated":{"line":1,"column":626}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"a","original":{"line":70,"column":22},"generated":{"line":1,"column":635}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"B","original":{"line":71,"column":4},"generated":{"line":1,"column":638}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"forEach","original":{"line":71,"column":6},"generated":{"line":1,"column":640}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","original":{"line":71,"column":14},"generated":{"line":1,"column":648}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"b","original":{"line":71,"column":24},"generated":{"line":1,"column":657}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","original":{"line":72,"column":6},"generated":{"line":1,"column":660}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"x","original":{"line":72,"column":12},"generated":{"line":1,"column":666}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","original":{"line":72,"column":16},"generated":{"line":1,"column":668}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"Element","original":{"line":72,"column":20},"generated":{"line":1,"column":672}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"a","original":{"line":72,"column":28},"generated":{"line":1,"column":674}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"b","original":{"line":72,"column":31},"generated":{"line":1,"column":676}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"sum","original":{"line":73,"column":6},"generated":{"line":1,"column":679}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"p","original":{"line":73,"column":14},"generated":{"line":1,"column":682}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"calculateAPriori","original":{"line":73,"column":16},"generated":{"line":1,"column":684}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"x","original":{"line":73,"column":33},"generated":{"line":1,"column":701}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"that","original":{"line":73,"column":38},"generated":{"line":1,"column":704}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"apply","original":{"line":73,"column":43},"generated":{"line":1,"column":706}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"x","original":{"line":73,"column":49},"generated":{"line":1,"column":712}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"sum","original":{"line":76,"column":9},"generated":{"line":1,"column":719}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"Feature","original":{"line":80,"column":0},"generated":{"line":1,"column":722}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"prototype","original":{"line":80,"column":8},"generated":{"line":1,"column":724}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"observedExpectation","original":{"line":80,"column":18},"generated":{"line":1,"column":734}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","original":{"line":80,"column":40},"generated":{"line":1,"column":754}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"sample","original":{"line":80,"column":50},"generated":{"line":1,"column":763}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","original":{"line":81,"column":2},"generated":{"line":1,"column":766}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","original":{"line":81,"column":6},"generated":{"line":1,"column":769}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"observedExpect","original":{"line":81,"column":11},"generated":{"line":1,"column":774}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","original":{"line":82,"column":4},"generated":{"line":1,"column":789}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","original":{"line":82,"column":11},"generated":{"line":1,"column":796}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"observedExpect","original":{"line":82,"column":16},"generated":{"line":1,"column":801}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","original":{"line":84,"column":2},"generated":{"line":1,"column":816}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"N","original":{"line":84,"column":8},"generated":{"line":1,"column":822}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"sample","original":{"line":84,"column":12},"generated":{"line":1,"column":824}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"size","original":{"line":84,"column":19},"generated":{"line":1,"column":826}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","original":{"line":85,"column":2},"generated":{"line":1,"column":833}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"sum","original":{"line":85,"column":6},"generated":{"line":1,"column":837}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","original":{"line":85,"column":12},"generated":{"line":1,"column":839}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","original":{"line":86,"column":2},"generated":{"line":1,"column":841}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"that","original":{"line":86,"column":8},"generated":{"line":1,"column":847}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","original":{"line":86,"column":15},"generated":{"line":1,"column":849}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","original":{"line":91,"column":2},"generated":{"line":1,"column":854}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"sample","original":{"line":87,"column":2},"generated":{"line":1,"column":861}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"elements","original":{"line":87,"column":9},"generated":{"line":1,"column":863}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"forEach","original":{"line":87,"column":18},"generated":{"line":1,"column":872}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","original":{"line":87,"column":26},"generated":{"line":1,"column":880}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"x","original":{"line":87,"column":36},"generated":{"line":1,"column":889}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"sum","original":{"line":88,"column":4},"generated":{"line":1,"column":892}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"that","original":{"line":88,"column":11},"generated":{"line":1,"column":895}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"apply","original":{"line":88,"column":16},"generated":{"line":1,"column":897}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"x","original":{"line":88,"column":22},"generated":{"line":1,"column":903}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","original":{"line":90,"column":2},"generated":{"line":1,"column":908}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"observedExpect","original":{"line":90,"column":7},"generated":{"line":1,"column":913}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"sum","original":{"line":90,"column":24},"generated":{"line":1,"column":928}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"N","original":{"line":90,"column":30},"generated":{"line":1,"column":930}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","original":{"line":91,"column":9},"generated":{"line":1,"column":932}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"observedExpect","original":{"line":91,"column":14},"generated":{"line":1,"column":937}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"module","original":{"line":94,"column":0},"generated":{"line":1,"column":953}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"exports","original":{"line":94,"column":7},"generated":{"line":1,"column":960}},{"source":"node_modules/natural/lib/natural/classifiers/maxent/Feature.js","name":"Feature","original":{"line":94,"column":17},"generated":{"line":1,"column":968}}],"sources":{"node_modules/natural/lib/natural/classifiers/maxent/Feature.js":"/*\r\nFeature class for features that fire (or don't) on combinations of context\r\nand class\r\nCopyright (C) 2017 Hugo W.L. ter Doest\r\n\r\nPermission is hereby granted, free of charge, to any person obtaining a copy\r\nof this software and associated documentation files (the \"Software\"), to deal\r\nin the Software without restriction, including without limitation the rights\r\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\ncopies of the Software, and to permit persons to whom the Software is\r\nfurnished to do so, subject to the following conditions:\r\n\r\nThe above copyright notice and this permission notice shall be included in\r\nall copies or substantial portions of the Software.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\nTHE SOFTWARE.\r\n*/\r\n\r\n'use strict'\r\n\r\nconst Element = require('./Element')\r\n\r\nfunction Feature (f, name, parameters) {\r\n  this.evaluate = f\r\n  this.name = name\r\n  this.parameters = parameters\r\n\r\n  let tmp = ''\r\n  parameters.forEach(function (par) {\r\n    tmp += par + '|'\r\n  })\r\n  this.parametersKey = tmp.substr(0, tmp.length - 1)\r\n}\r\n\r\nFeature.prototype.apply = function (x) {\r\n  return this.evaluate(x)\r\n}\r\n\r\nFeature.prototype.expectationApprox = function (p, sample) {\r\n  const that = this\r\n  let sum = 0\r\n  const seen = {}\r\n  const A = sample.getClasses()\r\n  sample.elements.forEach(function (sampleElement) {\r\n    const bi = sampleElement.b\r\n\r\n    if (!seen[bi.toString()]) {\r\n      seen[bi.toString()] = true\r\n\r\n      A.forEach(function (a) {\r\n        const x = new Element(a, bi)\r\n        sum += sample.observedProbabilityOfContext(bi) * p.calculateAPosteriori(x) * that.apply(x)\r\n      })\r\n    }\r\n  })\r\n  return sum\r\n}\r\n\r\n// Direct calculation of expected value of this feature according to distribution p\r\n// In real-life applications with a lot of features this is not tractable\r\nFeature.prototype.expectation = function (p, A, B) {\r\n  let sum = 0\r\n  const that = this\r\n  A.forEach(function (a) {\r\n    B.forEach(function (b) {\r\n      const x = new Element(a, b)\r\n      sum += (p.calculateAPriori(x) * that.apply(x))\r\n    })\r\n  })\r\n  return sum\r\n}\r\n\r\n// Observed expectation of this feature in the sample\r\nFeature.prototype.observedExpectation = function (sample) {\r\n  if (this.observedExpect) {\r\n    return this.observedExpect\r\n  }\r\n  const N = sample.size()\r\n  let sum = 0\r\n  const that = this\r\n  sample.elements.forEach(function (x) {\r\n    sum += that.apply(x)\r\n  })\r\n  this.observedExpect = sum / N\r\n  return this.observedExpect\r\n}\r\n\r\nmodule.exports = Feature\r\n"},"lineCount":null}},"error":null,"hash":"fc116b701e904a6a1113e75386c055b4","cacheData":{"env":{}}}