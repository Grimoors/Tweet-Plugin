{"id":"eIjk","dependencies":[{"name":"C:\\Users\\user\\Documents\\GitHub\\Tweet-Plugin\\package.json","includedInParent":true,"mtime":1681685714954},{"name":"C:\\Users\\user\\Documents\\GitHub\\Tweet-Plugin\\node_modules\\natural\\package.json","includedInParent":true,"mtime":1681673273006},{"name":"../tokenizers/tokenizer_ja","loc":{"line":36,"column":26,"index":1538},"parent":"C:\\Users\\user\\Documents\\GitHub\\Tweet-Plugin\\node_modules\\natural\\lib\\natural\\stemmers\\stemmer_ja.js","resolved":"C:\\Users\\user\\Documents\\GitHub\\Tweet-Plugin\\node_modules\\natural\\lib\\natural\\tokenizers\\tokenizer_ja.js"},{"name":"../util/stopwords_ja","loc":{"line":37,"column":26,"index":1595},"parent":"C:\\Users\\user\\Documents\\GitHub\\Tweet-Plugin\\node_modules\\natural\\lib\\natural\\stemmers\\stemmer_ja.js","resolved":"C:\\Users\\user\\Documents\\GitHub\\Tweet-Plugin\\node_modules\\natural\\lib\\natural\\util\\stopwords_ja.js"}],"generated":{"js":"\"use strict\";const t=require(\"../tokenizers/tokenizer_ja\"),e=require(\"../util/stopwords_ja\").words,n=function(){};n.prototype.tokenizeAndStem=function(n,o){const r=this,s=[],i=(new t).tokenize(n);return o?i.forEach(function(t){let e=t.toLowerCase();e=r.stem(e),s.push(e)}):i.forEach(function(t){if(-1===e.indexOf(t)){let e=t.toLowerCase();e=r.stem(e),s.push(e)}}),s},n.prototype.stem=function(t){return t=this.stemKatakana(t)},n.prototype.stemKatakana=function(t){return t.length>=4&&\"ー\"===t.slice(-1)&&this.isKatakana(t)&&(t=t.slice(0,t.length-1)),t},n.prototype.isKatakana=function(t){return!!t.match(/^[゠-ヿ]+$/)},module.exports=new n;"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","original":{"line":23,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","original":{"line":36,"column":0},"generated":{"line":1,"column":13}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"Tokenizer","original":{"line":36,"column":6},"generated":{"line":1,"column":19}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"require","original":{"line":36,"column":18},"generated":{"line":1,"column":21}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","original":{"line":36,"column":26},"generated":{"line":1,"column":29}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"stopwords","original":{"line":37,"column":6},"generated":{"line":1,"column":59}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"require","original":{"line":37,"column":18},"generated":{"line":1,"column":61}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","original":{"line":37,"column":26},"generated":{"line":1,"column":69}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"words","original":{"line":37,"column":50},"generated":{"line":1,"column":93}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"StemmerJa","original":{"line":42,"column":6},"generated":{"line":1,"column":99}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","original":{"line":42,"column":18},"generated":{"line":1,"column":101}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"StemmerJa","original":{"line":53,"column":0},"generated":{"line":1,"column":114}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"prototype","original":{"line":53,"column":10},"generated":{"line":1,"column":116}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"tokenizeAndStem","original":{"line":53,"column":20},"generated":{"line":1,"column":126}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","original":{"line":53,"column":38},"generated":{"line":1,"column":142}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"text","original":{"line":53,"column":48},"generated":{"line":1,"column":151}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"keepStops","original":{"line":53,"column":54},"generated":{"line":1,"column":153}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","original":{"line":54,"column":2},"generated":{"line":1,"column":156}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"self","original":{"line":54,"column":8},"generated":{"line":1,"column":162}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","original":{"line":54,"column":15},"generated":{"line":1,"column":164}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"stemmedTokens","original":{"line":55,"column":8},"generated":{"line":1,"column":169}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","original":{"line":55,"column":24},"generated":{"line":1,"column":171}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"tokens","original":{"line":56,"column":8},"generated":{"line":1,"column":174}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","original":{"line":56,"column":17},"generated":{"line":1,"column":177}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"Tokenizer","original":{"line":56,"column":21},"generated":{"line":1,"column":181}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"tokenize","original":{"line":56,"column":33},"generated":{"line":1,"column":184}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"text","original":{"line":56,"column":42},"generated":{"line":1,"column":193}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","original":{"line":75,"column":2},"generated":{"line":1,"column":196}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"keepStops","original":{"line":59,"column":6},"generated":{"line":1,"column":203}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"tokens","original":{"line":60,"column":4},"generated":{"line":1,"column":205}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"forEach","original":{"line":60,"column":11},"generated":{"line":1,"column":207}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","original":{"line":60,"column":19},"generated":{"line":1,"column":215}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"token","original":{"line":60,"column":29},"generated":{"line":1,"column":224}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","original":{"line":61,"column":6},"generated":{"line":1,"column":227}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"resultToken","original":{"line":61,"column":10},"generated":{"line":1,"column":231}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"token","original":{"line":61,"column":24},"generated":{"line":1,"column":233}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"toLowerCase","original":{"line":61,"column":30},"generated":{"line":1,"column":235}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"resultToken","original":{"line":62,"column":6},"generated":{"line":1,"column":249}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"self","original":{"line":62,"column":20},"generated":{"line":1,"column":251}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"stem","original":{"line":62,"column":25},"generated":{"line":1,"column":253}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"resultToken","original":{"line":62,"column":30},"generated":{"line":1,"column":258}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"stemmedTokens","original":{"line":63,"column":6},"generated":{"line":1,"column":261}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"push","original":{"line":63,"column":20},"generated":{"line":1,"column":263}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"resultToken","original":{"line":63,"column":25},"generated":{"line":1,"column":268}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"tokens","original":{"line":66,"column":4},"generated":{"line":1,"column":273}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"forEach","original":{"line":66,"column":11},"generated":{"line":1,"column":275}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","original":{"line":66,"column":19},"generated":{"line":1,"column":283}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"token","original":{"line":66,"column":29},"generated":{"line":1,"column":292}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","original":{"line":67,"column":6},"generated":{"line":1,"column":295}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","original":{"line":67,"column":40},"generated":{"line":1,"column":299}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"stopwords","original":{"line":67,"column":10},"generated":{"line":1,"column":303}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"indexOf","original":{"line":67,"column":20},"generated":{"line":1,"column":305}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"token","original":{"line":67,"column":28},"generated":{"line":1,"column":313}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","original":{"line":67,"column":43},"generated":{"line":1,"column":316}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","original":{"line":68,"column":8},"generated":{"line":1,"column":317}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"resultToken","original":{"line":68,"column":12},"generated":{"line":1,"column":321}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"token","original":{"line":68,"column":26},"generated":{"line":1,"column":323}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"toLowerCase","original":{"line":68,"column":32},"generated":{"line":1,"column":325}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"resultToken","original":{"line":69,"column":8},"generated":{"line":1,"column":339}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"self","original":{"line":69,"column":22},"generated":{"line":1,"column":341}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"stem","original":{"line":69,"column":27},"generated":{"line":1,"column":343}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"resultToken","original":{"line":69,"column":32},"generated":{"line":1,"column":348}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"stemmedTokens","original":{"line":70,"column":8},"generated":{"line":1,"column":351}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"push","original":{"line":70,"column":22},"generated":{"line":1,"column":353}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"resultToken","original":{"line":70,"column":27},"generated":{"line":1,"column":358}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"stemmedTokens","original":{"line":75,"column":9},"generated":{"line":1,"column":364}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"StemmerJa","original":{"line":84,"column":0},"generated":{"line":1,"column":367}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"prototype","original":{"line":84,"column":10},"generated":{"line":1,"column":369}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"stem","original":{"line":84,"column":20},"generated":{"line":1,"column":379}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","original":{"line":84,"column":27},"generated":{"line":1,"column":384}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"token","original":{"line":84,"column":37},"generated":{"line":1,"column":393}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","original":{"line":87,"column":2},"generated":{"line":1,"column":396}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"token","original":{"line":85,"column":2},"generated":{"line":1,"column":403}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","original":{"line":85,"column":10},"generated":{"line":1,"column":405}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"stemKatakana","original":{"line":85,"column":15},"generated":{"line":1,"column":410}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"token","original":{"line":85,"column":28},"generated":{"line":1,"column":423}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"StemmerJa","original":{"line":97,"column":0},"generated":{"line":1,"column":427}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"prototype","original":{"line":97,"column":10},"generated":{"line":1,"column":429}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"stemKatakana","original":{"line":97,"column":20},"generated":{"line":1,"column":439}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","original":{"line":97,"column":35},"generated":{"line":1,"column":452}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"token","original":{"line":97,"column":45},"generated":{"line":1,"column":461}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","original":{"line":106,"column":2},"generated":{"line":1,"column":464}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"token","original":{"line":101,"column":6},"generated":{"line":1,"column":471}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"length","original":{"line":101,"column":12},"generated":{"line":1,"column":473}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","original":{"line":99,"column":33},"generated":{"line":1,"column":481}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","original":{"line":98,"column":49},"generated":{"line":1,"column":484}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"token","original":{"line":102,"column":6},"generated":{"line":1,"column":490}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"slice","original":{"line":102,"column":12},"generated":{"line":1,"column":492}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","original":{"line":102,"column":19},"generated":{"line":1,"column":499}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","original":{"line":103,"column":6},"generated":{"line":1,"column":503}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"isKatakana","original":{"line":103,"column":11},"generated":{"line":1,"column":508}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"token","original":{"line":103,"column":22},"generated":{"line":1,"column":519}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"token","original":{"line":104,"column":4},"generated":{"line":1,"column":524}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"token","original":{"line":104,"column":12},"generated":{"line":1,"column":526}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"slice","original":{"line":104,"column":18},"generated":{"line":1,"column":528}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","original":{"line":104,"column":24},"generated":{"line":1,"column":534}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"token","original":{"line":104,"column":27},"generated":{"line":1,"column":536}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"length","original":{"line":104,"column":33},"generated":{"line":1,"column":538}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","original":{"line":104,"column":42},"generated":{"line":1,"column":545}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"token","original":{"line":106,"column":9},"generated":{"line":1,"column":549}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"StemmerJa","original":{"line":117,"column":0},"generated":{"line":1,"column":552}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"prototype","original":{"line":117,"column":10},"generated":{"line":1,"column":554}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"isKatakana","original":{"line":117,"column":20},"generated":{"line":1,"column":564}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","original":{"line":117,"column":33},"generated":{"line":1,"column":575}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"str","original":{"line":117,"column":43},"generated":{"line":1,"column":584}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","original":{"line":118,"column":2},"generated":{"line":1,"column":587}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"str","original":{"line":118,"column":11},"generated":{"line":1,"column":595}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"match","original":{"line":118,"column":15},"generated":{"line":1,"column":597}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","original":{"line":118,"column":21},"generated":{"line":1,"column":603}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"module","original":{"line":136,"column":0},"generated":{"line":1,"column":616}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"exports","original":{"line":136,"column":7},"generated":{"line":1,"column":623}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","original":{"line":136,"column":17},"generated":{"line":1,"column":631}},{"source":"node_modules/natural/lib/natural/stemmers/stemmer_ja.js","name":"StemmerJa","original":{"line":136,"column":21},"generated":{"line":1,"column":635}}],"sources":{"node_modules/natural/lib/natural/stemmers/stemmer_ja.js":"/*\r\n Copyright (c) 2012, Guillaume Marty\r\n\r\n Permission is hereby granted, free of charge, to any person obtaining a copy\r\n of this software and associated documentation files (the \"Software\"), to deal\r\n in the Software without restriction, including without limitation the rights\r\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n copies of the Software, and to permit persons to whom the Software is\r\n furnished to do so, subject to the following conditions:\r\n\r\n The above copyright notice and this permission notice shall be included in\r\n all copies or substantial portions of the Software.\r\n\r\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n THE SOFTWARE.\r\n */\r\n\r\n'use strict'\r\n\r\n/**\r\n * A very basic stemmer that performs the following steps:\r\n * * Stem katakana.\r\n * Inspired by:\r\n * http://svn.apache.org/repos/asf/lucene/dev/trunk/lucene/analysis/kuromoji/src/java/org/apache/lucene/analysis/ja/JapaneseKatakanaStemFilter.java\r\n *\r\n * This script assumes input is normalized using normalizer_ja().\r\n *\r\n * \\@todo Use .bind() in StemmerJa.prototype.attach().\r\n */\r\n\r\nconst Tokenizer = require('../tokenizers/tokenizer_ja')\r\nconst stopwords = require('../util/stopwords_ja').words\r\n\r\n/**\r\n * @constructor\r\n */\r\nconst StemmerJa = function () {\r\n}\r\n\r\n/**\r\n * Tokenize and stem a text.\r\n * Stop words are excluded except if the second argument is true.\r\n *\r\n * @param {string} text\r\n * @param {boolean} keepStops Whether to keep stop words from the output or not.\r\n * @return {Array.<string>}\r\n */\r\nStemmerJa.prototype.tokenizeAndStem = function (text, keepStops) {\r\n  const self = this\r\n  const stemmedTokens = []\r\n  const tokens = new Tokenizer().tokenize(text)\r\n\r\n  // This is probably faster than an if at each iteration.\r\n  if (keepStops) {\r\n    tokens.forEach(function (token) {\r\n      let resultToken = token.toLowerCase()\r\n      resultToken = self.stem(resultToken)\r\n      stemmedTokens.push(resultToken)\r\n    })\r\n  } else {\r\n    tokens.forEach(function (token) {\r\n      if (stopwords.indexOf(token) === -1) {\r\n        let resultToken = token.toLowerCase()\r\n        resultToken = self.stem(resultToken)\r\n        stemmedTokens.push(resultToken)\r\n      }\r\n    })\r\n  }\r\n\r\n  return stemmedTokens\r\n}\r\n\r\n/**\r\n * Stem a term.\r\n *\r\n * @param {string} token\r\n * @return {string}\r\n */\r\nStemmerJa.prototype.stem = function (token) {\r\n  token = this.stemKatakana(token)\r\n\r\n  return token\r\n}\r\n\r\n/**\r\n * Remove the final prolonged sound mark on katakana if length is superior to\r\n * a threshold.\r\n *\r\n * @param {string} token A katakana string to stem.\r\n * @return {string} A katakana string stemmed.\r\n */\r\nStemmerJa.prototype.stemKatakana = function (token) {\r\n  const HIRAGANA_KATAKANA_PROLONGED_SOUND_MARK = 'ー'\r\n  const DEFAULT_MINIMUM_LENGTH = 4\r\n\r\n  if (token.length >= DEFAULT_MINIMUM_LENGTH &&\r\n      token.slice(-1) === HIRAGANA_KATAKANA_PROLONGED_SOUND_MARK &&\r\n      this.isKatakana(token)) {\r\n    token = token.slice(0, token.length - 1)\r\n  }\r\n  return token\r\n}\r\n\r\n/**\r\n * Is a string made of fullwidth katakana only?\r\n * This implementation is the fastest I know:\r\n * http://jsperf.com/string-contain-katakana-only/2\r\n *\r\n * @param {string} str A string.\r\n * @return {boolean} True if the string has katakana only.\r\n */\r\nStemmerJa.prototype.isKatakana = function (str) {\r\n  return !!str.match(/^[゠-ヿ]+$/)\r\n}\r\n\r\n/*\r\n// Expose an attach function that will patch String with new methods.\r\nStemmerJa.prototype.attach = function () {\r\n  const self = this\r\n\r\n  String.prototype.stem = function () {\r\n    return self.stem(this)\r\n  }\r\n\r\n  String.prototype.tokenizeAndStem = function (keepStops) {\r\n    return self.tokenizeAndStem(this, keepStops)\r\n  }\r\n}\r\n*/\r\n\r\nmodule.exports = new StemmerJa()\r\n"},"lineCount":null}},"error":null,"hash":"629b3eb8d98675f3d3331c7adb081850","cacheData":{"env":{}}}