{"id":"kmKn","dependencies":[{"name":"C:\\Users\\user\\Documents\\GitHub\\Tweet-Plugin\\package.json","includedInParent":true,"mtime":1681685714954},{"name":"C:\\Users\\user\\Documents\\GitHub\\Tweet-Plugin\\node_modules\\apparatus\\package.json","includedInParent":true,"mtime":1681673270449},{"name":"util","loc":{"line":23,"column":19,"index":1104},"parent":"C:\\Users\\user\\Documents\\GitHub\\Tweet-Plugin\\node_modules\\apparatus\\lib\\apparatus\\classifier\\bayes_classifier.js","resolved":"C:\\Users\\user\\Documents\\GitHub\\Tweet-Plugin\\node_modules\\util\\util.js"},{"name":"./classifier","loc":{"line":24,"column":21,"index":1135},"parent":"C:\\Users\\user\\Documents\\GitHub\\Tweet-Plugin\\node_modules\\apparatus\\lib\\apparatus\\classifier\\bayes_classifier.js","resolved":"C:\\Users\\user\\Documents\\GitHub\\Tweet-Plugin\\node_modules\\apparatus\\lib\\apparatus\\classifier\\classifier.js"}],"generated":{"js":"var s=require(\"util\"),t=require(\"./classifier\"),a=function(s){t.call(this),this.classFeatures={},this.classTotals={},this.totalExamples=1,this.smoothing=void 0===s?1:s};function e(s,t){if(this.classFeatures[t]||(this.classFeatures[t]={},this.classTotals[t]=1),s instanceof Array){var a=s.length;for(this.totalExamples++,this.classTotals[t]++;a--;)s[a]&&(this.classFeatures[t][a]?this.classFeatures[t][a]++:this.classFeatures[t][a]=1+this.smoothing)}else for(var e in s)value=s[e],this.classFeatures[t][value]?this.classFeatures[t][value]++:this.classFeatures[t][value]=1+this.smoothing}function i(){}function r(s,t){var a=0;if(s instanceof Array){for(var e=s.length;e--;)if(s[e]){var i=this.classFeatures[t][e]||this.smoothing;a+=Math.log(i/this.classTotals[t])}}else for(var r in s){i=this.classFeatures[t][s[r]]||this.smoothing;a+=Math.log(i/this.classTotals[t])}return a=this.classTotals[t]/this.totalExamples*Math.exp(a)}function l(s){var t=[];for(var a in this.classFeatures)t.push({label:a,value:this.probabilityOfClass(s,a)});return t.sort(function(s,t){return t.value-s.value})}function o(s){return(s=t.restore(s)).__proto__=a.prototype,s}s.inherits(a,t),a.prototype.addExample=e,a.prototype.train=i,a.prototype.getClassifications=l,a.prototype.probabilityOfClass=r,a.restore=o,module.exports=a;"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":23,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"util","original":{"line":23,"column":4},"generated":{"line":1,"column":4}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"require","original":{"line":23,"column":11},"generated":{"line":1,"column":6}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":23,"column":19},"generated":{"line":1,"column":14}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"Classifier","original":{"line":24,"column":0},"generated":{"line":1,"column":22}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"require","original":{"line":24,"column":13},"generated":{"line":1,"column":24}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":24,"column":21},"generated":{"line":1,"column":32}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"BayesClassifier","original":{"line":26,"column":4},"generated":{"line":1,"column":48}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":26,"column":22},"generated":{"line":1,"column":50}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"smoothing","original":{"line":26,"column":31},"generated":{"line":1,"column":59}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"Classifier","original":{"line":27,"column":4},"generated":{"line":1,"column":62}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"call","original":{"line":27,"column":15},"generated":{"line":1,"column":64}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":27,"column":20},"generated":{"line":1,"column":69}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":28,"column":4},"generated":{"line":1,"column":75}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"classFeatures","original":{"line":28,"column":9},"generated":{"line":1,"column":80}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":28,"column":25},"generated":{"line":1,"column":94}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":29,"column":4},"generated":{"line":1,"column":97}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"classTotals","original":{"line":29,"column":9},"generated":{"line":1,"column":102}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":29,"column":23},"generated":{"line":1,"column":114}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":30,"column":4},"generated":{"line":1,"column":117}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"totalExamples","original":{"line":30,"column":9},"generated":{"line":1,"column":122}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":30,"column":25},"generated":{"line":1,"column":136}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":31,"column":4},"generated":{"line":1,"column":138}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"smoothing","original":{"line":31,"column":9},"generated":{"line":1,"column":143}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"undefined","original":{"line":31,"column":35},"generated":{"line":1,"column":158}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"smoothing","original":{"line":31,"column":21},"generated":{"line":1,"column":162}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":31,"column":47},"generated":{"line":1,"column":164}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"smoothing","original":{"line":31,"column":53},"generated":{"line":1,"column":166}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":36,"column":0},"generated":{"line":1,"column":169}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"addExample","original":{"line":36,"column":9},"generated":{"line":1,"column":178}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"observation","original":{"line":36,"column":20},"generated":{"line":1,"column":180}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"label","original":{"line":36,"column":33},"generated":{"line":1,"column":182}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":42,"column":4},"generated":{"line":1,"column":185}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":37,"column":8},"generated":{"line":1,"column":188}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"classFeatures","original":{"line":37,"column":13},"generated":{"line":1,"column":193}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"label","original":{"line":37,"column":27},"generated":{"line":1,"column":207}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":38,"column":8},"generated":{"line":1,"column":212}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"classFeatures","original":{"line":38,"column":13},"generated":{"line":1,"column":217}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"label","original":{"line":38,"column":27},"generated":{"line":1,"column":231}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":38,"column":36},"generated":{"line":1,"column":234}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":39,"column":8},"generated":{"line":1,"column":237}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"classTotals","original":{"line":39,"column":13},"generated":{"line":1,"column":242}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"label","original":{"line":39,"column":25},"generated":{"line":1,"column":254}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":39,"column":34},"generated":{"line":1,"column":257}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"observation","original":{"line":42,"column":7},"generated":{"line":1,"column":260}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"Array","original":{"line":42,"column":30},"generated":{"line":1,"column":273}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":42,"column":37},"generated":{"line":1,"column":279}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":43,"column":8},"generated":{"line":1,"column":280}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"i","original":{"line":43,"column":12},"generated":{"line":1,"column":284}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"observation","original":{"line":43,"column":16},"generated":{"line":1,"column":286}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"length","original":{"line":43,"column":28},"generated":{"line":1,"column":288}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":47,"column":8},"generated":{"line":1,"column":295}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":44,"column":8},"generated":{"line":1,"column":299}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"totalExamples","original":{"line":44,"column":13},"generated":{"line":1,"column":304}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":45,"column":8},"generated":{"line":1,"column":320}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"classTotals","original":{"line":45,"column":13},"generated":{"line":1,"column":325}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"label","original":{"line":45,"column":25},"generated":{"line":1,"column":337}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"i","original":{"line":47,"column":14},"generated":{"line":1,"column":342}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"observation","original":{"line":48,"column":15},"generated":{"line":1,"column":347}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"i","original":{"line":48,"column":27},"generated":{"line":1,"column":349}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":49,"column":19},"generated":{"line":1,"column":354}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"classFeatures","original":{"line":49,"column":24},"generated":{"line":1,"column":359}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"label","original":{"line":49,"column":38},"generated":{"line":1,"column":373}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"i","original":{"line":49,"column":45},"generated":{"line":1,"column":376}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":50,"column":20},"generated":{"line":1,"column":379}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"classFeatures","original":{"line":50,"column":25},"generated":{"line":1,"column":384}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"label","original":{"line":50,"column":39},"generated":{"line":1,"column":398}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"i","original":{"line":50,"column":46},"generated":{"line":1,"column":401}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":53,"column":20},"generated":{"line":1,"column":406}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"classFeatures","original":{"line":53,"column":25},"generated":{"line":1,"column":411}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"label","original":{"line":53,"column":39},"generated":{"line":1,"column":425}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"i","original":{"line":53,"column":46},"generated":{"line":1,"column":428}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":53,"column":51},"generated":{"line":1,"column":431}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":53,"column":55},"generated":{"line":1,"column":433}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"smoothing","original":{"line":53,"column":60},"generated":{"line":1,"column":438}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":59,"column":8},"generated":{"line":1,"column":454}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":59,"column":12},"generated":{"line":1,"column":458}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"key","original":{"line":59,"column":16},"generated":{"line":1,"column":462}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"observation","original":{"line":59,"column":23},"generated":{"line":1,"column":467}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"value","original":{"line":60,"column":12},"generated":{"line":1,"column":469}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"observation","original":{"line":60,"column":20},"generated":{"line":1,"column":475}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"key","original":{"line":60,"column":32},"generated":{"line":1,"column":477}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":62,"column":15},"generated":{"line":1,"column":480}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"classFeatures","original":{"line":62,"column":20},"generated":{"line":1,"column":485}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"label","original":{"line":62,"column":34},"generated":{"line":1,"column":499}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"value","original":{"line":62,"column":41},"generated":{"line":1,"column":502}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":63,"column":15},"generated":{"line":1,"column":509}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"classFeatures","original":{"line":63,"column":20},"generated":{"line":1,"column":514}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"label","original":{"line":63,"column":34},"generated":{"line":1,"column":528}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"value","original":{"line":63,"column":41},"generated":{"line":1,"column":531}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":66,"column":15},"generated":{"line":1,"column":540}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"classFeatures","original":{"line":66,"column":20},"generated":{"line":1,"column":545}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"label","original":{"line":66,"column":34},"generated":{"line":1,"column":559}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"value","original":{"line":66,"column":41},"generated":{"line":1,"column":562}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":66,"column":50},"generated":{"line":1,"column":569}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":66,"column":54},"generated":{"line":1,"column":571}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"smoothing","original":{"line":66,"column":59},"generated":{"line":1,"column":576}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":72,"column":0},"generated":{"line":1,"column":586}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"train","original":{"line":72,"column":9},"generated":{"line":1,"column":595}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":76,"column":0},"generated":{"line":1,"column":600}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"probabilityOfClass","original":{"line":76,"column":9},"generated":{"line":1,"column":609}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"observation","original":{"line":76,"column":28},"generated":{"line":1,"column":611}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"label","original":{"line":76,"column":41},"generated":{"line":1,"column":613}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":77,"column":4},"generated":{"line":1,"column":616}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"prob","original":{"line":77,"column":8},"generated":{"line":1,"column":620}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":77,"column":15},"generated":{"line":1,"column":622}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":79,"column":4},"generated":{"line":1,"column":624}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"observation","original":{"line":79,"column":7},"generated":{"line":1,"column":627}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"Array","original":{"line":79,"column":30},"generated":{"line":1,"column":640}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":82,"column":8},"generated":{"line":1,"column":647}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":80,"column":8},"generated":{"line":1,"column":651}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"i","original":{"line":80,"column":12},"generated":{"line":1,"column":655}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"observation","original":{"line":80,"column":16},"generated":{"line":1,"column":657}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"length","original":{"line":80,"column":28},"generated":{"line":1,"column":659}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"i","original":{"line":82,"column":14},"generated":{"line":1,"column":666}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":83,"column":12},"generated":{"line":1,"column":671}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"observation","original":{"line":83,"column":15},"generated":{"line":1,"column":674}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"i","original":{"line":83,"column":27},"generated":{"line":1,"column":676}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":83,"column":31},"generated":{"line":1,"column":679}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":84,"column":16},"generated":{"line":1,"column":680}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"count","original":{"line":84,"column":20},"generated":{"line":1,"column":684}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":84,"column":28},"generated":{"line":1,"column":686}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"classFeatures","original":{"line":84,"column":33},"generated":{"line":1,"column":691}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"label","original":{"line":84,"column":47},"generated":{"line":1,"column":705}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"i","original":{"line":84,"column":54},"generated":{"line":1,"column":708}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":84,"column":60},"generated":{"line":1,"column":712}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"smoothing","original":{"line":84,"column":65},"generated":{"line":1,"column":717}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"prob","original":{"line":86,"column":16},"generated":{"line":1,"column":727}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"Math","original":{"line":86,"column":24},"generated":{"line":1,"column":730}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"log","original":{"line":86,"column":29},"generated":{"line":1,"column":735}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"count","original":{"line":86,"column":33},"generated":{"line":1,"column":739}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":86,"column":41},"generated":{"line":1,"column":741}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"classTotals","original":{"line":86,"column":46},"generated":{"line":1,"column":746}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"label","original":{"line":86,"column":58},"generated":{"line":1,"column":758}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":91,"column":8},"generated":{"line":1,"column":768}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":91,"column":12},"generated":{"line":1,"column":772}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"key","original":{"line":91,"column":16},"generated":{"line":1,"column":776}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"observation","original":{"line":91,"column":23},"generated":{"line":1,"column":781}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":91,"column":35},"generated":{"line":1,"column":783}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"count","original":{"line":92,"column":16},"generated":{"line":1,"column":784}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":92,"column":24},"generated":{"line":1,"column":786}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"classFeatures","original":{"line":92,"column":29},"generated":{"line":1,"column":791}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"label","original":{"line":92,"column":43},"generated":{"line":1,"column":805}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"observation","original":{"line":92,"column":50},"generated":{"line":1,"column":808}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"key","original":{"line":92,"column":62},"generated":{"line":1,"column":810}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":92,"column":71},"generated":{"line":1,"column":815}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"smoothing","original":{"line":92,"column":76},"generated":{"line":1,"column":820}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"prob","original":{"line":94,"column":12},"generated":{"line":1,"column":830}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"Math","original":{"line":94,"column":20},"generated":{"line":1,"column":833}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"log","original":{"line":94,"column":25},"generated":{"line":1,"column":838}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"count","original":{"line":94,"column":29},"generated":{"line":1,"column":842}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":94,"column":37},"generated":{"line":1,"column":844}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"classTotals","original":{"line":94,"column":42},"generated":{"line":1,"column":849}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"label","original":{"line":94,"column":54},"generated":{"line":1,"column":861}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":101,"column":4},"generated":{"line":1,"column":865}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"prob","original":{"line":99,"column":4},"generated":{"line":1,"column":872}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":99,"column":12},"generated":{"line":1,"column":874}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"classTotals","original":{"line":99,"column":17},"generated":{"line":1,"column":879}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"label","original":{"line":99,"column":29},"generated":{"line":1,"column":891}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":99,"column":38},"generated":{"line":1,"column":894}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"totalExamples","original":{"line":99,"column":43},"generated":{"line":1,"column":899}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"Math","original":{"line":99,"column":60},"generated":{"line":1,"column":913}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"exp","original":{"line":99,"column":65},"generated":{"line":1,"column":918}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"prob","original":{"line":99,"column":69},"generated":{"line":1,"column":922}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":104,"column":0},"generated":{"line":1,"column":925}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"getClassifications","original":{"line":104,"column":9},"generated":{"line":1,"column":934}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"observation","original":{"line":104,"column":28},"generated":{"line":1,"column":936}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":105,"column":4},"generated":{"line":1,"column":939}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"labels","original":{"line":106,"column":8},"generated":{"line":1,"column":943}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":106,"column":17},"generated":{"line":1,"column":945}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":108,"column":4},"generated":{"line":1,"column":948}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":108,"column":8},"generated":{"line":1,"column":952}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"className","original":{"line":108,"column":12},"generated":{"line":1,"column":956}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":108,"column":25},"generated":{"line":1,"column":961}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"classFeatures","original":{"line":108,"column":30},"generated":{"line":1,"column":966}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"labels","original":{"line":109,"column":8},"generated":{"line":1,"column":980}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"push","original":{"line":109,"column":15},"generated":{"line":1,"column":982}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":109,"column":20},"generated":{"line":1,"column":987}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"label","original":{"line":109,"column":21},"generated":{"line":1,"column":988}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"className","original":{"line":109,"column":28},"generated":{"line":1,"column":994}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"value","original":{"line":110,"column":8},"generated":{"line":1,"column":996}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":105,"column":21},"generated":{"line":1,"column":1002}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"probabilityOfClass","original":{"line":110,"column":26},"generated":{"line":1,"column":1007}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"observation","original":{"line":110,"column":45},"generated":{"line":1,"column":1026}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"className","original":{"line":110,"column":58},"generated":{"line":1,"column":1028}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":113,"column":4},"generated":{"line":1,"column":1033}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"labels","original":{"line":113,"column":11},"generated":{"line":1,"column":1040}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"sort","original":{"line":113,"column":18},"generated":{"line":1,"column":1042}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":113,"column":23},"generated":{"line":1,"column":1047}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"x","original":{"line":113,"column":32},"generated":{"line":1,"column":1056}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"y","original":{"line":113,"column":35},"generated":{"line":1,"column":1058}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":114,"column":8},"generated":{"line":1,"column":1061}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"y","original":{"line":114,"column":15},"generated":{"line":1,"column":1068}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"value","original":{"line":114,"column":17},"generated":{"line":1,"column":1070}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"x","original":{"line":114,"column":25},"generated":{"line":1,"column":1076}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"value","original":{"line":114,"column":27},"generated":{"line":1,"column":1078}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":118,"column":0},"generated":{"line":1,"column":1086}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"restore","original":{"line":118,"column":9},"generated":{"line":1,"column":1095}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"classifier","original":{"line":118,"column":17},"generated":{"line":1,"column":1097}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","original":{"line":122,"column":5},"generated":{"line":1,"column":1100}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"classifier","original":{"line":119,"column":5},"generated":{"line":1,"column":1107}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"Classifier","original":{"line":119,"column":18},"generated":{"line":1,"column":1109}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"restore","original":{"line":119,"column":29},"generated":{"line":1,"column":1111}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"classifier","original":{"line":119,"column":37},"generated":{"line":1,"column":1119}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"__proto__","original":{"line":120,"column":16},"generated":{"line":1,"column":1123}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"BayesClassifier","original":{"line":120,"column":28},"generated":{"line":1,"column":1133}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"prototype","original":{"line":120,"column":44},"generated":{"line":1,"column":1135}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"classifier","original":{"line":122,"column":12},"generated":{"line":1,"column":1145}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"util","original":{"line":34,"column":0},"generated":{"line":1,"column":1147}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"inherits","original":{"line":34,"column":5},"generated":{"line":1,"column":1149}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"BayesClassifier","original":{"line":34,"column":14},"generated":{"line":1,"column":1158}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"Classifier","original":{"line":34,"column":31},"generated":{"line":1,"column":1160}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"BayesClassifier","original":{"line":125,"column":0},"generated":{"line":1,"column":1163}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"prototype","original":{"line":125,"column":16},"generated":{"line":1,"column":1165}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"addExample","original":{"line":125,"column":26},"generated":{"line":1,"column":1175}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"addExample","original":{"line":125,"column":39},"generated":{"line":1,"column":1186}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"BayesClassifier","original":{"line":126,"column":0},"generated":{"line":1,"column":1188}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"prototype","original":{"line":126,"column":16},"generated":{"line":1,"column":1190}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"train","original":{"line":126,"column":26},"generated":{"line":1,"column":1200}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"train","original":{"line":126,"column":34},"generated":{"line":1,"column":1206}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"BayesClassifier","original":{"line":127,"column":0},"generated":{"line":1,"column":1208}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"prototype","original":{"line":127,"column":16},"generated":{"line":1,"column":1210}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"getClassifications","original":{"line":127,"column":26},"generated":{"line":1,"column":1220}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"getClassifications","original":{"line":127,"column":47},"generated":{"line":1,"column":1239}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"BayesClassifier","original":{"line":128,"column":0},"generated":{"line":1,"column":1241}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"prototype","original":{"line":128,"column":16},"generated":{"line":1,"column":1243}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"probabilityOfClass","original":{"line":128,"column":26},"generated":{"line":1,"column":1253}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"probabilityOfClass","original":{"line":128,"column":47},"generated":{"line":1,"column":1272}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"BayesClassifier","original":{"line":130,"column":0},"generated":{"line":1,"column":1274}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"restore","original":{"line":130,"column":16},"generated":{"line":1,"column":1276}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"restore","original":{"line":130,"column":26},"generated":{"line":1,"column":1284}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"module","original":{"line":132,"column":0},"generated":{"line":1,"column":1286}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"exports","original":{"line":132,"column":7},"generated":{"line":1,"column":1293}},{"source":"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js","name":"BayesClassifier","original":{"line":132,"column":17},"generated":{"line":1,"column":1301}}],"sources":{"node_modules/apparatus/lib/apparatus/classifier/bayes_classifier.js":"/*\r\nCopyright (c) 2011, Chris Umbel\r\n\r\nPermission is hereby granted, free of charge, to any person obtaining a copy\r\nof this software and associated documentation files (the \"Software\"), to deal\r\nin the Software without restriction, including without limitation the rights\r\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\ncopies of the Software, and to permit persons to whom the Software is\r\nfurnished to do so, subject to the following conditions:\r\n\r\nThe above copyright notice and this permission notice shall be included in\r\nall copies or substantial portions of the Software.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\nTHE SOFTWARE.\r\n*/\r\n\r\nvar util = require('util'),\r\nClassifier = require('./classifier');\r\n\r\nvar BayesClassifier = function(smoothing) {\r\n    Classifier.call(this);\r\n    this.classFeatures = {};\r\n    this.classTotals = {};\r\n    this.totalExamples = 1; // start at one to smooth\r\n    this.smoothing = smoothing === undefined ? 1.0 : smoothing;\r\n};\r\n\r\nutil.inherits(BayesClassifier, Classifier);\r\n\r\nfunction addExample(observation, label) {\r\n    if(!this.classFeatures[label]) {\r\n        this.classFeatures[label] = {};\r\n        this.classTotals[label] = 1; // give an extra for smoothing\r\n    }\r\n\r\n    if(observation instanceof Array) {\r\n        var i = observation.length;\r\n        this.totalExamples++;\r\n        this.classTotals[label]++;\r\n\r\n        while(i--) {\r\n            if(observation[i]) {\r\n                if(this.classFeatures[label][i]) {\r\n                    this.classFeatures[label][i]++;\r\n                } else {\r\n                    // give an extra for smoothing\r\n                    this.classFeatures[label][i] = 1 + this.smoothing;\r\n                }\r\n            }\r\n        }\r\n    } else {\r\n        // sparse observation\r\n        for(var key in observation){\r\n            value = observation[key];\r\n\r\n            if(this.classFeatures[label][value]) {\r\n               this.classFeatures[label][value]++;\r\n            } else {\r\n                // give an extra for smoothing\r\n               this.classFeatures[label][value] = 1 + this.smoothing;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfunction train() {\r\n\r\n}\r\n\r\nfunction probabilityOfClass(observation, label) {\r\n    var prob = 0;\r\n\r\n    if(observation instanceof Array){\r\n        var i = observation.length;\r\n\r\n        while(i--) {\r\n            if(observation[i]) {\r\n                var count = this.classFeatures[label][i] || this.smoothing;\r\n                // numbers are tiny, add logs rather than take product\r\n                prob += Math.log(count / this.classTotals[label]);\r\n            }\r\n        }\r\n    } else {\r\n        // sparse observation\r\n        for(var key in observation){\r\n            var count = this.classFeatures[label][observation[key]] || this.smoothing;\r\n            // numbers are tiny, add logs rather than take product\r\n            prob += Math.log(count / this.classTotals[label]);\r\n        }\r\n    }\r\n\r\n    // p(C) * unlogging the above calculation P(X|C)\r\n    prob = (this.classTotals[label] / this.totalExamples) * Math.exp(prob);\r\n\r\n    return prob;\r\n}\r\n\r\nfunction getClassifications(observation) {\r\n    var classifier = this;\r\n    var labels = [];\r\n\r\n    for(var className in this.classFeatures) {\r\n        labels.push({label: className,\r\n        value: classifier.probabilityOfClass(observation, className)});\r\n    }\r\n\r\n    return labels.sort(function(x, y) {\r\n        return y.value - x.value;\r\n    });\r\n}\r\n\r\nfunction restore(classifier) {\r\n     classifier = Classifier.restore(classifier);\r\n     classifier.__proto__ = BayesClassifier.prototype;\r\n\r\n     return classifier;\r\n}\r\n\r\nBayesClassifier.prototype.addExample = addExample;\r\nBayesClassifier.prototype.train = train;\r\nBayesClassifier.prototype.getClassifications = getClassifications;\r\nBayesClassifier.prototype.probabilityOfClass = probabilityOfClass;\r\n\r\nBayesClassifier.restore = restore;\r\n\r\nmodule.exports = BayesClassifier;"},"lineCount":null}},"error":null,"hash":"2eb05153a4967e8620fe76d4cf94f97a","cacheData":{"env":{}}}