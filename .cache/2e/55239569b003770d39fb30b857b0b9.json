{"id":"bEr1","dependencies":[{"name":"C:\\Users\\user\\Documents\\GitHub\\Tweet-Plugin\\package.json","includedInParent":true,"mtime":1681685714954},{"name":"@tensorflow/tfjs","loc":{"line":10,"column":19,"index":406},"parent":"C:\\Users\\user\\Documents\\GitHub\\Tweet-Plugin\\background.js","resolved":"C:\\Users\\user\\Documents\\GitHub\\Tweet-Plugin\\node_modules\\@tensorflow\\tfjs\\dist\\index.js"},{"name":"natural","loc":{"line":123,"column":28,"index":4498},"parent":"C:\\Users\\user\\Documents\\GitHub\\Tweet-Plugin\\background.js","resolved":"C:\\Users\\user\\Documents\\GitHub\\Tweet-Plugin\\node_modules\\natural\\lib\\natural\\index.js"},{"name":"stopwords","loc":{"line":14,"column":26,"index":595},"parent":"C:\\Users\\user\\Documents\\GitHub\\Tweet-Plugin\\background.js","resolved":"C:\\Users\\user\\Documents\\GitHub\\Tweet-Plugin\\node_modules\\stopwords\\stopwords.js"}],"generated":{"js":"function e(t){return(e=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(t)}console.log(\"Successfully added the script to the index.html file - background.js\");var t=require(\"@tensorflow/tfjs\"),o=require(\"natural\"),n=new o.WordTokenizer,l=require(\"stopwords\").english;model1_likepredictor=t.loadLayersModel(\"https://grimoorsfirstawsbucket.s3.ap-southeast-2.amazonaws.com/models/model_like_prediction/model.json\"),model1_likepredictor.then(function(e){console.log(\"Model 1 loaded successfully\")}),model2_sentimentpredictor=t.loadLayersModel(\"https://grimoorsfirstawsbucket.s3.ap-southeast-2.amazonaws.com/models/model_sentiment_prediction/model.json\"),model2_sentimentpredictor.then(function(e){console.log(\"Model 2 loaded successfully\")});var r=document.getElementById(\"clickToAnalyse\");function c(){return console.log(\"function Text_Getter() called\"),document.getElementById(\"tweet\").value}function s(e){var t=e.slice(0,280);return console.log(t,\"This is the Truncated Text and its length is \",t.length),t}function i(e){return document.getElementById(\"tweet\").value=e,document.getElementById(\"Counter\").innerHTML=\"<h6>\".concat(e.length,\"/280</h6>\"),e}function a(e){e=e.toLowerCase(),console.log(e,\"This is the text after converting to lowercase\");var t=n.tokenize(e);console.log(t,\"This is the text after tokenization\");var r=t.filter(function(e){return!l.includes(e)}),c=o.PorterStemmer;return e=r.map(function(e){return c.stem(e)}).join(\" \")}function u(e){var t=new(0,require(\"natural\").TfIdf);t.addDocument(e),console.log(t.listTerms(0),\"This is the tfidf list terms\");var o=t.listTerms(0).map(function(e){return e.tfidf});return console.log(o,\"This is the transformed text\"),o}function d(e,t){for(var o=new Array(t).fill(0),n=0;n<t&&n<e.length;n++)o[n]=e[n];return o}function g(o){console.log(\"function Text_Analyser() called\"),console.log(\"Preprocessing the text, calling the function preprocessText()\");var n=a(o);console.log(\"Preprocessed Text = \",n),console.log(\"Converting the text to sequences, calling the function convertTextToSequences()\");var l=u(n);console.log(\"Sequences = \",l),console.log(\"Padding or Truncating the sequences to the desired length, calling the function padOrTruncateSequences()\");var r=d(l,1202);console.log(\"Padded Input Data = \",r),console.log(\"Padded Input Data Length = \",r.length),console.log(\"Padded Input Data Type = \",e(r)),console.log(\"Padded Input Data Shape = \",r.shape);var c=t.tensor2d(r,[1,1202]);return model1_likepredictor.then(function(e){var t=e.layers[0].inputShape;console.log(t);var o=e.predict(c);console.log(\"Likes Predicted = \",o)}),model2_sentimentpredictor.then(function(e){var t=e.layers[0].inputShape;console.log(t);var o=e.predict(c);console.log(\"Likes Predicted = \",o)}),!0}function f(){console.log(\"Main Function Called\"),console.log(\"Getting the text from the tweet box, calling the function Text_Getter()\");var e=c();console.log(\"Truncating the text to 280 characters, calling the function Text_Truncator()\");var t=s(e);console.log(\"Updating the text in the tweet box to be truncated to 280 characters, calling the function Text_Updater()\"),i(t),!0===g(t)?console.log(t):console.log(\"false\")}console.log(r),r.addEventListener(\"click\",function(){console.log(\"clicked the button, Calling the Function to Analyse the Tweet\"),f()});"},"sourceMaps":{"js":{"mappings":[{"source":"background.js","original":{"line":226,"column":0},"generated":{"line":1,"column":0}},{"source":"background.js","original":{"line":226,"column":0},"generated":{"line":1,"column":9}},{"source":"background.js","original":{"line":226,"column":0},"generated":{"line":1,"column":11}},{"source":"background.js","original":{"line":226,"column":0},"generated":{"line":1,"column":14}},{"source":"background.js","original":{"line":226,"column":0},"generated":{"line":1,"column":21}},{"source":"background.js","original":{"line":226,"column":0},"generated":{"line":1,"column":23}},{"source":"background.js","original":{"line":226,"column":0},"generated":{"line":1,"column":42}},{"source":"background.js","original":{"line":226,"column":0},"generated":{"line":1,"column":50}},{"source":"background.js","original":{"line":226,"column":0},"generated":{"line":1,"column":67}},{"source":"background.js","original":{"line":226,"column":0},"generated":{"line":1,"column":74}},{"source":"background.js","original":{"line":226,"column":0},"generated":{"line":1,"column":83}},{"source":"background.js","original":{"line":226,"column":0},"generated":{"line":1,"column":92}},{"source":"background.js","original":{"line":226,"column":0},"generated":{"line":1,"column":95}},{"source":"background.js","original":{"line":226,"column":0},"generated":{"line":1,"column":109}},{"source":"background.js","original":{"line":226,"column":0},"generated":{"line":1,"column":112}},{"source":"background.js","original":{"line":226,"column":0},"generated":{"line":1,"column":121}},{"source":"background.js","original":{"line":226,"column":0},"generated":{"line":1,"column":124}},{"source":"background.js","original":{"line":226,"column":0},"generated":{"line":1,"column":131}},{"source":"background.js","original":{"line":226,"column":0},"generated":{"line":1,"column":134}},{"source":"background.js","original":{"line":226,"column":0},"generated":{"line":1,"column":153}},{"source":"background.js","original":{"line":226,"column":0},"generated":{"line":1,"column":161}},{"source":"background.js","original":{"line":226,"column":0},"generated":{"line":1,"column":163}},{"source":"background.js","original":{"line":226,"column":0},"generated":{"line":1,"column":177}},{"source":"background.js","original":{"line":226,"column":0},"generated":{"line":1,"column":185}},{"source":"background.js","original":{"line":226,"column":0},"generated":{"line":1,"column":189}},{"source":"background.js","original":{"line":226,"column":0},"generated":{"line":1,"column":196}},{"source":"background.js","original":{"line":226,"column":0},"generated":{"line":1,"column":206}},{"source":"background.js","original":{"line":226,"column":0},"generated":{"line":1,"column":222}},{"source":"background.js","original":{"line":226,"column":0},"generated":{"line":1,"column":226}},{"source":"background.js","name":"console","original":{"line":5,"column":0},"generated":{"line":1,"column":229}},{"source":"background.js","name":"log","original":{"line":5,"column":8},"generated":{"line":1,"column":237}},{"source":"background.js","original":{"line":5,"column":12},"generated":{"line":1,"column":241}},{"source":"background.js","original":{"line":10,"column":0},"generated":{"line":1,"column":313}},{"source":"background.js","name":"tf","original":{"line":10,"column":6},"generated":{"line":1,"column":317}},{"source":"background.js","name":"require","original":{"line":10,"column":11},"generated":{"line":1,"column":319}},{"source":"background.js","original":{"line":10,"column":19},"generated":{"line":1,"column":327}},{"source":"background.js","name":"natural","original":{"line":11,"column":6},"generated":{"line":1,"column":347}},{"source":"background.js","name":"require","original":{"line":11,"column":16},"generated":{"line":1,"column":349}},{"source":"background.js","original":{"line":11,"column":24},"generated":{"line":1,"column":357}},{"source":"background.js","name":"tokenizer","original":{"line":12,"column":6},"generated":{"line":1,"column":368}},{"source":"background.js","original":{"line":12,"column":18},"generated":{"line":1,"column":370}},{"source":"background.js","name":"natural","original":{"line":12,"column":22},"generated":{"line":1,"column":374}},{"source":"background.js","name":"WordTokenizer","original":{"line":12,"column":30},"generated":{"line":1,"column":376}},{"source":"background.js","name":"stopWords","original":{"line":14,"column":6},"generated":{"line":1,"column":390}},{"source":"background.js","name":"require","original":{"line":14,"column":18},"generated":{"line":1,"column":392}},{"source":"background.js","original":{"line":14,"column":26},"generated":{"line":1,"column":400}},{"source":"background.js","name":"english","original":{"line":14,"column":39},"generated":{"line":1,"column":413}},{"source":"background.js","name":"model1_likepredictor","original":{"line":16,"column":0},"generated":{"line":1,"column":421}},{"source":"background.js","name":"tf","original":{"line":16,"column":24},"generated":{"line":1,"column":442}},{"source":"background.js","name":"loadLayersModel","original":{"line":16,"column":27},"generated":{"line":1,"column":444}},{"source":"background.js","original":{"line":16,"column":43},"generated":{"line":1,"column":460}},{"source":"background.js","name":"model1_likepredictor","original":{"line":18,"column":0},"generated":{"line":1,"column":566}},{"source":"background.js","name":"then","original":{"line":18,"column":21},"generated":{"line":1,"column":587}},{"source":"background.js","original":{"line":18,"column":26},"generated":{"line":1,"column":592}},{"source":"background.js","name":"result","original":{"line":18,"column":35},"generated":{"line":1,"column":601}},{"source":"background.js","name":"console","original":{"line":19,"column":4},"generated":{"line":1,"column":604}},{"source":"background.js","name":"log","original":{"line":19,"column":12},"generated":{"line":1,"column":612}},{"source":"background.js","original":{"line":19,"column":16},"generated":{"line":1,"column":616}},{"source":"background.js","name":"model2_sentimentpredictor","original":{"line":21,"column":0},"generated":{"line":1,"column":649}},{"source":"background.js","name":"tf","original":{"line":21,"column":29},"generated":{"line":1,"column":675}},{"source":"background.js","name":"loadLayersModel","original":{"line":21,"column":32},"generated":{"line":1,"column":677}},{"source":"background.js","original":{"line":21,"column":48},"generated":{"line":1,"column":693}},{"source":"background.js","name":"model2_sentimentpredictor","original":{"line":23,"column":0},"generated":{"line":1,"column":804}},{"source":"background.js","name":"then","original":{"line":23,"column":26},"generated":{"line":1,"column":830}},{"source":"background.js","original":{"line":23,"column":31},"generated":{"line":1,"column":835}},{"source":"background.js","name":"result","original":{"line":23,"column":40},"generated":{"line":1,"column":844}},{"source":"background.js","name":"console","original":{"line":24,"column":4},"generated":{"line":1,"column":847}},{"source":"background.js","name":"log","original":{"line":24,"column":12},"generated":{"line":1,"column":855}},{"source":"background.js","original":{"line":24,"column":16},"generated":{"line":1,"column":859}},{"source":"background.js","original":{"line":34,"column":0},"generated":{"line":1,"column":892}},{"source":"background.js","name":"PostButton2","original":{"line":34,"column":6},"generated":{"line":1,"column":896}},{"source":"background.js","name":"document","original":{"line":34,"column":20},"generated":{"line":1,"column":898}},{"source":"background.js","name":"getElementById","original":{"line":34,"column":29},"generated":{"line":1,"column":907}},{"source":"background.js","original":{"line":34,"column":44},"generated":{"line":1,"column":922}},{"source":"background.js","original":{"line":44,"column":0},"generated":{"line":1,"column":940}},{"source":"background.js","name":"Text_Getter","original":{"line":44,"column":9},"generated":{"line":1,"column":949}},{"source":"background.js","original":{"line":51,"column":4},"generated":{"line":1,"column":953}},{"source":"background.js","name":"console","original":{"line":45,"column":4},"generated":{"line":1,"column":960}},{"source":"background.js","name":"log","original":{"line":45,"column":12},"generated":{"line":1,"column":968}},{"source":"background.js","original":{"line":45,"column":17},"generated":{"line":1,"column":972}},{"source":"background.js","name":"document","original":{"line":47,"column":22},"generated":{"line":1,"column":1005}},{"source":"background.js","name":"getElementById","original":{"line":47,"column":31},"generated":{"line":1,"column":1014}},{"source":"background.js","original":{"line":47,"column":46},"generated":{"line":1,"column":1029}},{"source":"background.js","name":"value","original":{"line":49,"column":32},"generated":{"line":1,"column":1038}},{"source":"background.js","original":{"line":54,"column":0},"generated":{"line":1,"column":1044}},{"source":"background.js","name":"Text_Truncator","original":{"line":54,"column":9},"generated":{"line":1,"column":1053}},{"source":"background.js","name":"tweetText","original":{"line":54,"column":25},"generated":{"line":1,"column":1055}},{"source":"background.js","original":{"line":56,"column":4},"generated":{"line":1,"column":1058}},{"source":"background.js","name":"tweetTextTruncated","original":{"line":56,"column":10},"generated":{"line":1,"column":1062}},{"source":"background.js","name":"tweetText","original":{"line":56,"column":31},"generated":{"line":1,"column":1064}},{"source":"background.js","name":"slice","original":{"line":56,"column":41},"generated":{"line":1,"column":1066}},{"source":"background.js","original":{"line":56,"column":47},"generated":{"line":1,"column":1072}},{"source":"background.js","original":{"line":56,"column":50},"generated":{"line":1,"column":1074}},{"source":"background.js","original":{"line":59,"column":4},"generated":{"line":1,"column":1079}},{"source":"background.js","name":"console","original":{"line":58,"column":4},"generated":{"line":1,"column":1086}},{"source":"background.js","name":"log","original":{"line":58,"column":12},"generated":{"line":1,"column":1094}},{"source":"background.js","name":"tweetTextTruncated","original":{"line":58,"column":17},"generated":{"line":1,"column":1098}},{"source":"background.js","original":{"line":58,"column":38},"generated":{"line":1,"column":1100}},{"source":"background.js","name":"tweetTextTruncated","original":{"line":58,"column":88},"generated":{"line":1,"column":1148}},{"source":"background.js","name":"length","original":{"line":58,"column":107},"generated":{"line":1,"column":1150}},{"source":"background.js","name":"tweetTextTruncated","original":{"line":59,"column":11},"generated":{"line":1,"column":1158}},{"source":"background.js","original":{"line":62,"column":0},"generated":{"line":1,"column":1160}},{"source":"background.js","name":"Text_Updater","original":{"line":62,"column":9},"generated":{"line":1,"column":1169}},{"source":"background.js","name":"tweetTextTruncated","original":{"line":62,"column":23},"generated":{"line":1,"column":1171}},{"source":"background.js","original":{"line":74,"column":4},"generated":{"line":1,"column":1174}},{"source":"background.js","name":"document","original":{"line":64,"column":22},"generated":{"line":1,"column":1181}},{"source":"background.js","name":"getElementById","original":{"line":64,"column":31},"generated":{"line":1,"column":1190}},{"source":"background.js","original":{"line":64,"column":46},"generated":{"line":1,"column":1205}},{"source":"background.js","name":"value","original":{"line":66,"column":14},"generated":{"line":1,"column":1214}},{"source":"background.js","name":"tweetTextTruncated","original":{"line":66,"column":22},"generated":{"line":1,"column":1220}},{"source":"background.js","name":"document","original":{"line":69,"column":20},"generated":{"line":1,"column":1222}},{"source":"background.js","name":"getElementById","original":{"line":69,"column":29},"generated":{"line":1,"column":1231}},{"source":"background.js","original":{"line":69,"column":44},"generated":{"line":1,"column":1246}},{"source":"background.js","name":"innerHTML","original":{"line":72,"column":12},"generated":{"line":1,"column":1257}},{"source":"background.js","name":"concat","original":{"line":72,"column":21},"generated":{"line":1,"column":1267}},{"source":"background.js","name":"concat","original":{"line":72,"column":21},"generated":{"line":1,"column":1274}},{"source":"background.js","name":"tweetTextTruncated","original":{"line":72,"column":31},"generated":{"line":1,"column":1281}},{"source":"background.js","name":"length","original":{"line":72,"column":50},"generated":{"line":1,"column":1283}},{"source":"background.js","original":{"line":72,"column":67},"generated":{"line":1,"column":1290}},{"source":"background.js","name":"tweetTextTruncated","original":{"line":74,"column":11},"generated":{"line":1,"column":1303}},{"source":"background.js","original":{"line":77,"column":0},"generated":{"line":1,"column":1305}},{"source":"background.js","name":"preprocessText","original":{"line":77,"column":9},"generated":{"line":1,"column":1314}},{"source":"background.js","name":"text","original":{"line":77,"column":24},"generated":{"line":1,"column":1316}},{"source":"background.js","name":"text","original":{"line":83,"column":4},"generated":{"line":1,"column":1319}},{"source":"background.js","name":"text","original":{"line":83,"column":11},"generated":{"line":1,"column":1321}},{"source":"background.js","name":"toLowerCase","original":{"line":83,"column":16},"generated":{"line":1,"column":1323}},{"source":"background.js","name":"console","original":{"line":84,"column":4},"generated":{"line":1,"column":1337}},{"source":"background.js","name":"log","original":{"line":84,"column":12},"generated":{"line":1,"column":1345}},{"source":"background.js","name":"text","original":{"line":84,"column":17},"generated":{"line":1,"column":1349}},{"source":"background.js","original":{"line":84,"column":24},"generated":{"line":1,"column":1351}},{"source":"background.js","original":{"line":88,"column":4},"generated":{"line":1,"column":1401}},{"source":"background.js","name":"tokens","original":{"line":88,"column":10},"generated":{"line":1,"column":1405}},{"source":"background.js","name":"tokenizer","original":{"line":88,"column":19},"generated":{"line":1,"column":1407}},{"source":"background.js","name":"tokenize","original":{"line":88,"column":29},"generated":{"line":1,"column":1409}},{"source":"background.js","name":"text","original":{"line":88,"column":38},"generated":{"line":1,"column":1418}},{"source":"background.js","name":"console","original":{"line":89,"column":4},"generated":{"line":1,"column":1421}},{"source":"background.js","name":"log","original":{"line":89,"column":12},"generated":{"line":1,"column":1429}},{"source":"background.js","name":"tokens","original":{"line":89,"column":17},"generated":{"line":1,"column":1433}},{"source":"background.js","original":{"line":89,"column":26},"generated":{"line":1,"column":1435}},{"source":"background.js","original":{"line":93,"column":4},"generated":{"line":1,"column":1474}},{"source":"background.js","name":"filteredTokens","original":{"line":93,"column":10},"generated":{"line":1,"column":1478}},{"source":"background.js","name":"tokens","original":{"line":93,"column":27},"generated":{"line":1,"column":1480}},{"source":"background.js","name":"filter","original":{"line":93,"column":34},"generated":{"line":1,"column":1482}},{"source":"background.js","original":{"line":93,"column":41},"generated":{"line":1,"column":1489}},{"source":"background.js","name":"token","original":{"line":93,"column":41},"generated":{"line":1,"column":1498}},{"source":"background.js","original":{"line":93,"column":46},"generated":{"line":1,"column":1501}},{"source":"background.js","name":"stopWords","original":{"line":93,"column":51},"generated":{"line":1,"column":1508}},{"source":"background.js","name":"includes","original":{"line":93,"column":61},"generated":{"line":1,"column":1510}},{"source":"background.js","name":"token","original":{"line":93,"column":70},"generated":{"line":1,"column":1519}},{"source":"background.js","name":"stemmer","original":{"line":96,"column":10},"generated":{"line":1,"column":1524}},{"source":"background.js","name":"natural","original":{"line":96,"column":20},"generated":{"line":1,"column":1526}},{"source":"background.js","name":"PorterStemmer","original":{"line":96,"column":28},"generated":{"line":1,"column":1528}},{"source":"background.js","original":{"line":104,"column":4},"generated":{"line":1,"column":1542}},{"source":"background.js","name":"text","original":{"line":100,"column":4},"generated":{"line":1,"column":1549}},{"source":"background.js","name":"filteredTokens","original":{"line":97,"column":26},"generated":{"line":1,"column":1551}},{"source":"background.js","name":"map","original":{"line":97,"column":41},"generated":{"line":1,"column":1553}},{"source":"background.js","original":{"line":97,"column":45},"generated":{"line":1,"column":1557}},{"source":"background.js","name":"token","original":{"line":97,"column":45},"generated":{"line":1,"column":1566}},{"source":"background.js","original":{"line":97,"column":50},"generated":{"line":1,"column":1569}},{"source":"background.js","name":"stemmer","original":{"line":97,"column":54},"generated":{"line":1,"column":1576}},{"source":"background.js","name":"stem","original":{"line":97,"column":62},"generated":{"line":1,"column":1578}},{"source":"background.js","name":"token","original":{"line":97,"column":67},"generated":{"line":1,"column":1583}},{"source":"background.js","name":"join","original":{"line":100,"column":25},"generated":{"line":1,"column":1588}},{"source":"background.js","original":{"line":100,"column":30},"generated":{"line":1,"column":1593}},{"source":"background.js","original":{"line":107,"column":0},"generated":{"line":1,"column":1598}},{"source":"background.js","name":"convertTextToSequences","original":{"line":107,"column":9},"generated":{"line":1,"column":1607}},{"source":"background.js","name":"text","original":{"line":107,"column":32},"generated":{"line":1,"column":1609}},{"source":"background.js","original":{"line":123,"column":4},"generated":{"line":1,"column":1612}},{"source":"background.js","name":"tfidf","original":{"line":125,"column":10},"generated":{"line":1,"column":1616}},{"source":"background.js","original":{"line":125,"column":18},"generated":{"line":1,"column":1618}},{"source":"background.js","name":"TfIdf","original":{"line":125,"column":22},"generated":{"line":1,"column":1622}},{"source":"background.js","name":"require","original":{"line":123,"column":20},"generated":{"line":1,"column":1624}},{"source":"background.js","original":{"line":123,"column":28},"generated":{"line":1,"column":1632}},{"source":"background.js","name":"TfIdf","original":{"line":124,"column":26},"generated":{"line":1,"column":1643}},{"source":"background.js","name":"tfidf","original":{"line":128,"column":4},"generated":{"line":1,"column":1650}},{"source":"background.js","name":"addDocument","original":{"line":128,"column":10},"generated":{"line":1,"column":1652}},{"source":"background.js","name":"text","original":{"line":128,"column":22},"generated":{"line":1,"column":1664}},{"source":"background.js","name":"console","original":{"line":130,"column":4},"generated":{"line":1,"column":1667}},{"source":"background.js","name":"log","original":{"line":130,"column":12},"generated":{"line":1,"column":1675}},{"source":"background.js","name":"tfidf","original":{"line":130,"column":17},"generated":{"line":1,"column":1679}},{"source":"background.js","name":"listTerms","original":{"line":130,"column":23},"generated":{"line":1,"column":1681}},{"source":"background.js","original":{"line":130,"column":33},"generated":{"line":1,"column":1691}},{"source":"background.js","original":{"line":130,"column":38},"generated":{"line":1,"column":1694}},{"source":"background.js","original":{"line":133,"column":4},"generated":{"line":1,"column":1726}},{"source":"background.js","name":"transformedText","original":{"line":133,"column":10},"generated":{"line":1,"column":1730}},{"source":"background.js","name":"tfidf","original":{"line":133,"column":28},"generated":{"line":1,"column":1732}},{"source":"background.js","name":"listTerms","original":{"line":133,"column":34},"generated":{"line":1,"column":1734}},{"source":"background.js","original":{"line":133,"column":44},"generated":{"line":1,"column":1744}},{"source":"background.js","name":"map","original":{"line":133,"column":47},"generated":{"line":1,"column":1747}},{"source":"background.js","original":{"line":133,"column":51},"generated":{"line":1,"column":1751}},{"source":"background.js","name":"item","original":{"line":133,"column":51},"generated":{"line":1,"column":1760}},{"source":"background.js","original":{"line":133,"column":55},"generated":{"line":1,"column":1763}},{"source":"background.js","name":"item","original":{"line":133,"column":59},"generated":{"line":1,"column":1770}},{"source":"background.js","name":"tfidf","original":{"line":133,"column":64},"generated":{"line":1,"column":1772}},{"source":"background.js","original":{"line":139,"column":4},"generated":{"line":1,"column":1780}},{"source":"background.js","name":"console","original":{"line":135,"column":4},"generated":{"line":1,"column":1787}},{"source":"background.js","name":"log","original":{"line":135,"column":12},"generated":{"line":1,"column":1795}},{"source":"background.js","name":"transformedText","original":{"line":135,"column":17},"generated":{"line":1,"column":1799}},{"source":"background.js","original":{"line":135,"column":35},"generated":{"line":1,"column":1801}},{"source":"background.js","name":"transformedText","original":{"line":137,"column":22},"generated":{"line":1,"column":1833}},{"source":"background.js","original":{"line":142,"column":0},"generated":{"line":1,"column":1835}},{"source":"background.js","name":"padOrTruncateSequences","original":{"line":142,"column":9},"generated":{"line":1,"column":1844}},{"source":"background.js","name":"inputData","original":{"line":142,"column":32},"generated":{"line":1,"column":1846}},{"source":"background.js","name":"maxLength","original":{"line":142,"column":43},"generated":{"line":1,"column":1848}},{"source":"background.js","original":{"line":148,"column":4},"generated":{"line":1,"column":1851}},{"source":"background.js","original":{"line":145,"column":4},"generated":{"line":1,"column":1855}},{"source":"background.js","name":"paddedInputData","original":{"line":145,"column":10},"generated":{"line":1,"column":1859}},{"source":"background.js","original":{"line":145,"column":28},"generated":{"line":1,"column":1861}},{"source":"background.js","name":"Array","original":{"line":145,"column":32},"generated":{"line":1,"column":1865}},{"source":"background.js","name":"maxLength","original":{"line":145,"column":38},"generated":{"line":1,"column":1871}},{"source":"background.js","name":"fill","original":{"line":145,"column":49},"generated":{"line":1,"column":1874}},{"source":"background.js","original":{"line":145,"column":54},"generated":{"line":1,"column":1879}},{"source":"background.js","name":"i","original":{"line":148,"column":13},"generated":{"line":1,"column":1882}},{"source":"background.js","original":{"line":148,"column":17},"generated":{"line":1,"column":1884}},{"source":"background.js","name":"i","original":{"line":148,"column":20},"generated":{"line":1,"column":1886}},{"source":"background.js","name":"maxLength","original":{"line":148,"column":24},"generated":{"line":1,"column":1888}},{"source":"background.js","name":"i","original":{"line":148,"column":37},"generated":{"line":1,"column":1891}},{"source":"background.js","name":"inputData","original":{"line":148,"column":41},"generated":{"line":1,"column":1893}},{"source":"background.js","name":"length","original":{"line":148,"column":51},"generated":{"line":1,"column":1895}},{"source":"background.js","name":"i","original":{"line":148,"column":59},"generated":{"line":1,"column":1902}},{"source":"background.js","name":"paddedInputData","original":{"line":149,"column":8},"generated":{"line":1,"column":1906}},{"source":"background.js","name":"i","original":{"line":149,"column":24},"generated":{"line":1,"column":1908}},{"source":"background.js","name":"inputData","original":{"line":149,"column":29},"generated":{"line":1,"column":1911}},{"source":"background.js","name":"i","original":{"line":149,"column":39},"generated":{"line":1,"column":1913}},{"source":"background.js","original":{"line":152,"column":4},"generated":{"line":1,"column":1916}},{"source":"background.js","name":"paddedInputData","original":{"line":152,"column":11},"generated":{"line":1,"column":1923}},{"source":"background.js","original":{"line":155,"column":0},"generated":{"line":1,"column":1925}},{"source":"background.js","name":"Text_Analyser","original":{"line":155,"column":9},"generated":{"line":1,"column":1934}},{"source":"background.js","name":"tweetTextTruncated","original":{"line":155,"column":24},"generated":{"line":1,"column":1936}},{"source":"background.js","name":"console","original":{"line":156,"column":4},"generated":{"line":1,"column":1939}},{"source":"background.js","name":"log","original":{"line":156,"column":12},"generated":{"line":1,"column":1947}},{"source":"background.js","original":{"line":156,"column":17},"generated":{"line":1,"column":1951}},{"source":"background.js","name":"console","original":{"line":158,"column":4},"generated":{"line":1,"column":1986}},{"source":"background.js","name":"log","original":{"line":158,"column":12},"generated":{"line":1,"column":1994}},{"source":"background.js","original":{"line":158,"column":17},"generated":{"line":1,"column":1998}},{"source":"background.js","original":{"line":159,"column":4},"generated":{"line":1,"column":2063}},{"source":"background.js","name":"preprocessedtext","original":{"line":159,"column":10},"generated":{"line":1,"column":2067}},{"source":"background.js","name":"preprocessText","original":{"line":159,"column":29},"generated":{"line":1,"column":2069}},{"source":"background.js","name":"tweetTextTruncated","original":{"line":159,"column":44},"generated":{"line":1,"column":2071}},{"source":"background.js","name":"console","original":{"line":160,"column":4},"generated":{"line":1,"column":2074}},{"source":"background.js","name":"log","original":{"line":160,"column":12},"generated":{"line":1,"column":2082}},{"source":"background.js","original":{"line":160,"column":17},"generated":{"line":1,"column":2086}},{"source":"background.js","name":"preprocessedtext","original":{"line":160,"column":42},"generated":{"line":1,"column":2109}},{"source":"background.js","name":"console","original":{"line":162,"column":4},"generated":{"line":1,"column":2112}},{"source":"background.js","name":"log","original":{"line":162,"column":12},"generated":{"line":1,"column":2120}},{"source":"background.js","original":{"line":162,"column":17},"generated":{"line":1,"column":2124}},{"source":"background.js","original":{"line":163,"column":4},"generated":{"line":1,"column":2207}},{"source":"background.js","name":"sequences","original":{"line":163,"column":10},"generated":{"line":1,"column":2211}},{"source":"background.js","name":"convertTextToSequences","original":{"line":163,"column":22},"generated":{"line":1,"column":2213}},{"source":"background.js","name":"preprocessedtext","original":{"line":163,"column":45},"generated":{"line":1,"column":2215}},{"source":"background.js","name":"console","original":{"line":164,"column":4},"generated":{"line":1,"column":2218}},{"source":"background.js","name":"log","original":{"line":164,"column":12},"generated":{"line":1,"column":2226}},{"source":"background.js","original":{"line":164,"column":17},"generated":{"line":1,"column":2230}},{"source":"background.js","name":"sequences","original":{"line":164,"column":34},"generated":{"line":1,"column":2245}},{"source":"background.js","name":"console","original":{"line":166,"column":4},"generated":{"line":1,"column":2248}},{"source":"background.js","name":"log","original":{"line":166,"column":12},"generated":{"line":1,"column":2256}},{"source":"background.js","original":{"line":166,"column":17},"generated":{"line":1,"column":2260}},{"source":"background.js","original":{"line":167,"column":4},"generated":{"line":1,"column":2368}},{"source":"background.js","name":"paddedInputData","original":{"line":167,"column":10},"generated":{"line":1,"column":2372}},{"source":"background.js","name":"padOrTruncateSequences","original":{"line":167,"column":28},"generated":{"line":1,"column":2374}},{"source":"background.js","name":"sequences","original":{"line":167,"column":51},"generated":{"line":1,"column":2376}},{"source":"background.js","original":{"line":167,"column":62},"generated":{"line":1,"column":2378}},{"source":"background.js","name":"console","original":{"line":168,"column":4},"generated":{"line":1,"column":2384}},{"source":"background.js","name":"log","original":{"line":168,"column":12},"generated":{"line":1,"column":2392}},{"source":"background.js","original":{"line":168,"column":17},"generated":{"line":1,"column":2396}},{"source":"background.js","name":"paddedInputData","original":{"line":168,"column":42},"generated":{"line":1,"column":2419}},{"source":"background.js","name":"console","original":{"line":169,"column":4},"generated":{"line":1,"column":2422}},{"source":"background.js","name":"log","original":{"line":169,"column":12},"generated":{"line":1,"column":2430}},{"source":"background.js","original":{"line":169,"column":17},"generated":{"line":1,"column":2434}},{"source":"background.js","name":"paddedInputData","original":{"line":169,"column":49},"generated":{"line":1,"column":2464}},{"source":"background.js","name":"length","original":{"line":169,"column":65},"generated":{"line":1,"column":2466}},{"source":"background.js","name":"console","original":{"line":170,"column":4},"generated":{"line":1,"column":2474}},{"source":"background.js","name":"log","original":{"line":170,"column":12},"generated":{"line":1,"column":2482}},{"source":"background.js","original":{"line":170,"column":16},"generated":{"line":1,"column":2486}},{"source":"background.js","name":"_typeof","original":{"line":170,"column":43},"generated":{"line":1,"column":2514}},{"source":"background.js","name":"paddedInputData","original":{"line":170,"column":53},"generated":{"line":1,"column":2516}},{"source":"background.js","name":"console","original":{"line":171,"column":4},"generated":{"line":1,"column":2520}},{"source":"background.js","name":"log","original":{"line":171,"column":12},"generated":{"line":1,"column":2528}},{"source":"background.js","original":{"line":171,"column":16},"generated":{"line":1,"column":2532}},{"source":"background.js","name":"paddedInputData","original":{"line":171,"column":47},"generated":{"line":1,"column":2561}},{"source":"background.js","name":"shape","original":{"line":171,"column":63},"generated":{"line":1,"column":2563}},{"source":"background.js","original":{"line":174,"column":4},"generated":{"line":1,"column":2570}},{"source":"background.js","name":"inputData","original":{"line":174,"column":10},"generated":{"line":1,"column":2574}},{"source":"background.js","name":"tf","original":{"line":174,"column":22},"generated":{"line":1,"column":2576}},{"source":"background.js","name":"tensor2d","original":{"line":174,"column":25},"generated":{"line":1,"column":2578}},{"source":"background.js","name":"paddedInputData","original":{"line":174,"column":35},"generated":{"line":1,"column":2587}},{"source":"background.js","original":{"line":174,"column":53},"generated":{"line":1,"column":2589}},{"source":"background.js","original":{"line":174,"column":54},"generated":{"line":1,"column":2590}},{"source":"background.js","original":{"line":174,"column":57},"generated":{"line":1,"column":2592}},{"source":"background.js","original":{"line":197,"column":4},"generated":{"line":1,"column":2599}},{"source":"background.js","name":"model1_likepredictor","original":{"line":176,"column":4},"generated":{"line":1,"column":2606}},{"source":"background.js","name":"then","original":{"line":176,"column":25},"generated":{"line":1,"column":2627}},{"source":"background.js","original":{"line":176,"column":30},"generated":{"line":1,"column":2632}},{"source":"background.js","name":"model","original":{"line":176,"column":39},"generated":{"line":1,"column":2641}},{"source":"background.js","original":{"line":177,"column":8},"generated":{"line":1,"column":2644}},{"source":"background.js","name":"inputShape","original":{"line":177,"column":14},"generated":{"line":1,"column":2648}},{"source":"background.js","name":"model","original":{"line":177,"column":27},"generated":{"line":1,"column":2650}},{"source":"background.js","name":"layers","original":{"line":177,"column":33},"generated":{"line":1,"column":2652}},{"source":"background.js","original":{"line":177,"column":40},"generated":{"line":1,"column":2659}},{"source":"background.js","name":"inputShape","original":{"line":177,"column":43},"generated":{"line":1,"column":2662}},{"source":"background.js","name":"console","original":{"line":178,"column":8},"generated":{"line":1,"column":2673}},{"source":"background.js","name":"log","original":{"line":178,"column":16},"generated":{"line":1,"column":2681}},{"source":"background.js","name":"inputShape","original":{"line":178,"column":20},"generated":{"line":1,"column":2685}},{"source":"background.js","original":{"line":180,"column":8},"generated":{"line":1,"column":2688}},{"source":"background.js","name":"prediction","original":{"line":180,"column":14},"generated":{"line":1,"column":2692}},{"source":"background.js","name":"model","original":{"line":180,"column":27},"generated":{"line":1,"column":2694}},{"source":"background.js","name":"predict","original":{"line":180,"column":33},"generated":{"line":1,"column":2696}},{"source":"background.js","name":"inputData","original":{"line":180,"column":41},"generated":{"line":1,"column":2704}},{"source":"background.js","name":"console","original":{"line":181,"column":8},"generated":{"line":1,"column":2707}},{"source":"background.js","name":"log","original":{"line":181,"column":16},"generated":{"line":1,"column":2715}},{"source":"background.js","original":{"line":181,"column":21},"generated":{"line":1,"column":2719}},{"source":"background.js","name":"prediction","original":{"line":181,"column":46},"generated":{"line":1,"column":2740}},{"source":"background.js","name":"model2_sentimentpredictor","original":{"line":186,"column":4},"generated":{"line":1,"column":2745}},{"source":"background.js","name":"then","original":{"line":186,"column":30},"generated":{"line":1,"column":2771}},{"source":"background.js","original":{"line":186,"column":35},"generated":{"line":1,"column":2776}},{"source":"background.js","name":"model","original":{"line":186,"column":44},"generated":{"line":1,"column":2785}},{"source":"background.js","original":{"line":187,"column":8},"generated":{"line":1,"column":2788}},{"source":"background.js","name":"inputShape","original":{"line":187,"column":14},"generated":{"line":1,"column":2792}},{"source":"background.js","name":"model","original":{"line":187,"column":27},"generated":{"line":1,"column":2794}},{"source":"background.js","name":"layers","original":{"line":187,"column":33},"generated":{"line":1,"column":2796}},{"source":"background.js","original":{"line":187,"column":40},"generated":{"line":1,"column":2803}},{"source":"background.js","name":"inputShape","original":{"line":187,"column":43},"generated":{"line":1,"column":2806}},{"source":"background.js","name":"console","original":{"line":188,"column":8},"generated":{"line":1,"column":2817}},{"source":"background.js","name":"log","original":{"line":188,"column":16},"generated":{"line":1,"column":2825}},{"source":"background.js","name":"inputShape","original":{"line":188,"column":20},"generated":{"line":1,"column":2829}},{"source":"background.js","original":{"line":190,"column":8},"generated":{"line":1,"column":2832}},{"source":"background.js","name":"prediction","original":{"line":190,"column":14},"generated":{"line":1,"column":2836}},{"source":"background.js","name":"model","original":{"line":190,"column":27},"generated":{"line":1,"column":2838}},{"source":"background.js","name":"predict","original":{"line":190,"column":33},"generated":{"line":1,"column":2840}},{"source":"background.js","name":"inputData","original":{"line":190,"column":41},"generated":{"line":1,"column":2848}},{"source":"background.js","name":"console","original":{"line":191,"column":8},"generated":{"line":1,"column":2851}},{"source":"background.js","name":"log","original":{"line":191,"column":16},"generated":{"line":1,"column":2859}},{"source":"background.js","original":{"line":191,"column":21},"generated":{"line":1,"column":2863}},{"source":"background.js","name":"prediction","original":{"line":191,"column":46},"generated":{"line":1,"column":2884}},{"source":"background.js","original":{"line":197,"column":11},"generated":{"line":1,"column":2890}},{"source":"background.js","original":{"line":202,"column":0},"generated":{"line":1,"column":2892}},{"source":"background.js","name":"Main","original":{"line":202,"column":9},"generated":{"line":1,"column":2901}},{"source":"background.js","name":"console","original":{"line":203,"column":4},"generated":{"line":1,"column":2905}},{"source":"background.js","name":"log","original":{"line":203,"column":12},"generated":{"line":1,"column":2913}},{"source":"background.js","original":{"line":203,"column":17},"generated":{"line":1,"column":2917}},{"source":"background.js","name":"console","original":{"line":207,"column":4},"generated":{"line":1,"column":2941}},{"source":"background.js","name":"log","original":{"line":207,"column":12},"generated":{"line":1,"column":2949}},{"source":"background.js","original":{"line":207,"column":17},"generated":{"line":1,"column":2953}},{"source":"background.js","original":{"line":208,"column":4},"generated":{"line":1,"column":3028}},{"source":"background.js","name":"tweetText","original":{"line":208,"column":10},"generated":{"line":1,"column":3032}},{"source":"background.js","name":"Text_Getter","original":{"line":208,"column":22},"generated":{"line":1,"column":3034}},{"source":"background.js","name":"console","original":{"line":210,"column":4},"generated":{"line":1,"column":3038}},{"source":"background.js","name":"log","original":{"line":210,"column":12},"generated":{"line":1,"column":3046}},{"source":"background.js","original":{"line":210,"column":17},"generated":{"line":1,"column":3050}},{"source":"background.js","original":{"line":211,"column":4},"generated":{"line":1,"column":3130}},{"source":"background.js","name":"tweetTextTruncated","original":{"line":211,"column":10},"generated":{"line":1,"column":3134}},{"source":"background.js","name":"Text_Truncator","original":{"line":211,"column":31},"generated":{"line":1,"column":3136}},{"source":"background.js","name":"tweetText","original":{"line":211,"column":47},"generated":{"line":1,"column":3138}},{"source":"background.js","name":"console","original":{"line":213,"column":4},"generated":{"line":1,"column":3141}},{"source":"background.js","name":"log","original":{"line":213,"column":12},"generated":{"line":1,"column":3149}},{"source":"background.js","original":{"line":213,"column":17},"generated":{"line":1,"column":3153}},{"source":"background.js","name":"Text_Updater","original":{"line":214,"column":4},"generated":{"line":1,"column":3262}},{"source":"background.js","name":"tweetTextTruncated","original":{"line":214,"column":18},"generated":{"line":1,"column":3264}},{"source":"background.js","original":{"line":218,"column":30},"generated":{"line":1,"column":3268}},{"source":"background.js","name":"Text_Analyser","original":{"line":216,"column":30},"generated":{"line":1,"column":3272}},{"source":"background.js","name":"tweetTextTruncated","original":{"line":216,"column":45},"generated":{"line":1,"column":3274}},{"source":"background.js","name":"console","original":{"line":221,"column":8},"generated":{"line":1,"column":3277}},{"source":"background.js","name":"log","original":{"line":221,"column":16},"generated":{"line":1,"column":3285}},{"source":"background.js","name":"tweetTextTruncated","original":{"line":221,"column":21},"generated":{"line":1,"column":3289}},{"source":"background.js","name":"console","original":{"line":224,"column":8},"generated":{"line":1,"column":3292}},{"source":"background.js","name":"log","original":{"line":224,"column":16},"generated":{"line":1,"column":3300}},{"source":"background.js","original":{"line":224,"column":22},"generated":{"line":1,"column":3304}},{"source":"background.js","name":"console","original":{"line":36,"column":0},"generated":{"line":1,"column":3313}},{"source":"background.js","name":"log","original":{"line":36,"column":8},"generated":{"line":1,"column":3321}},{"source":"background.js","name":"PostButton2","original":{"line":36,"column":12},"generated":{"line":1,"column":3325}},{"source":"background.js","name":"PostButton2","original":{"line":38,"column":0},"generated":{"line":1,"column":3328}},{"source":"background.js","name":"addEventListener","original":{"line":38,"column":12},"generated":{"line":1,"column":3330}},{"source":"background.js","original":{"line":38,"column":29},"generated":{"line":1,"column":3347}},{"source":"background.js","original":{"line":38,"column":38},"generated":{"line":1,"column":3355}},{"source":"background.js","name":"console","original":{"line":39,"column":4},"generated":{"line":1,"column":3366}},{"source":"background.js","name":"log","original":{"line":39,"column":12},"generated":{"line":1,"column":3374}},{"source":"background.js","original":{"line":39,"column":16},"generated":{"line":1,"column":3378}},{"source":"background.js","name":"Main","original":{"line":40,"column":4},"generated":{"line":1,"column":3443}}],"sources":{"background.js":"//If successfully added to the index.html file, \r\n// Console should show the following message\r\n//\" Successfully added the script to the index.html file - background.js\"\r\n\r\nconsole.log(\"Successfully added the script to the index.html file - background.js\");\r\n\r\n\r\n// Import tensorflow js from <script src=\"https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest/dist/tf.min.js\"></script>\r\n\r\nconst tf = require('@tensorflow/tfjs');\r\nconst natural = require('natural');\r\nconst tokenizer = new natural.WordTokenizer();\r\n// const stopWords = new natural.Stopwords['english'];\r\nconst stopWords = require('stopwords').english;\r\n\r\nmodel1_likepredictor =  tf.loadLayersModel('https://grimoorsfirstawsbucket.s3.ap-southeast-2.amazonaws.com/models/model_like_prediction/model.json');\r\n// Check if loaded properly, if yes, print to console   \r\nmodel1_likepredictor.then(function(result) {    \r\n    console.log(\"Model 1 loaded successfully\");\r\n});\r\nmodel2_sentimentpredictor =  tf.loadLayersModel('https://grimoorsfirstawsbucket.s3.ap-southeast-2.amazonaws.com/models/model_sentiment_prediction/model.json');\r\n// Check if loaded properly, if yes, print to console\r\nmodel2_sentimentpredictor.then(function(result) {\r\n    console.log(\"Model 2 loaded successfully\");\r\n});\r\n\r\n// This element is to be called when we are clicking the button to analyse the tweet \r\n\r\n// // // Path: index.html\r\n\r\n// // // Path: background.js\r\n\r\n// Testing out the button\r\nconst PostButton2 = document.getElementById(\"clickToAnalyse\");\r\n// Check if the getelementbyID is working\r\nconsole.log(PostButton2);\r\n\r\nPostButton2.addEventListener(\"click\", () => {\r\n    console.log(\"clicked the button, Calling the Function to Analyse the Tweet\");\r\n    Main();\r\n});\r\n\r\n\r\nfunction Text_Getter() {\r\n    console.log (\"function Text_Getter() called\");\r\n    // Get the tweet box element from the DOM\r\n    const tweetBox2 = document.getElementById(\"tweet\");\r\n    // Get the text from the tweet box\r\n    const tweetText = tweetBox2.value;\r\n    // Return the text from the tweet box\r\n    return tweetText;\r\n}\r\n\r\nfunction Text_Truncator( tweetText ) {\r\n    // Truncate the text to 280 characters\r\n    const tweetTextTruncated = tweetText.slice(0, 280);\r\n    // Return the truncated text\r\n    console.log (tweetTextTruncated , \"This is the Truncated Text and its length is \" , tweetTextTruncated.length);\r\n    return tweetTextTruncated;\r\n}\r\n\r\nfunction Text_Updater( tweetTextTruncated ) {\r\n    // Get the tweet box element from the DOM\r\n    const tweetBox2 = document.getElementById(\"tweet\");  \r\n  // Update the text in the tweet box to be truncated to 280 characters\r\n    tweetBox2.value = tweetTextTruncated;\r\n\r\n    // Get the counter element from the DOM\r\n    const counter = document.getElementById(\"Counter\");\r\n\r\n    // Update the counter element with the number of characters\r\n    counter.innerHTML = `<h6>${tweetTextTruncated.length}/280</h6>`;\r\n    // Return the truncated text\r\n    return tweetTextTruncated;\r\n}\r\n\r\nfunction preprocessText(text) {\r\n    // TODO: Perform any necessary preprocessing (e.g., tokenization, stopwords removal, stemming/lemmatization)\r\n    //using natural library\r\n    \r\n\r\n        // convert to lowercase\r\n    text = text.toLowerCase();\r\n    console.log (text , \"This is the text after converting to lowercase\");\r\n\r\n\r\n    // tokenize text\r\n    const tokens = tokenizer.tokenize(text);\r\n    console.log (tokens , \"This is the text after tokenization\");\r\n\r\n\r\n    // remove stopwords\r\n    const filteredTokens = tokens.filter(token => !stopWords.includes(token));\r\n\r\n    // stem words\r\n    const stemmer = natural.PorterStemmer;\r\n    const stemmedTokens = filteredTokens.map(token => stemmer.stem(token));\r\n\r\n    // join tokens back into a string\r\n    text = stemmedTokens.join(' ');\r\n\r\n    const preprocessedText = text;\r\n\r\n    return preprocessedText;\r\n}\r\n\r\nfunction convertTextToSequences(text) {\r\n    // TODO: Convert the preprocessed text to integer sequences using the tokenizer from training\r\n\r\n    // const CountVectorizer = require('natural').CountVectorizer;\r\n\r\n    // // create the vectorizer\r\n    // const vectorizer = new CountVectorizer();\r\n\r\n    // // fit the vectorizer on the preprocessed text data\r\n    // vectorizer.fit([preprocessedTweet]);\r\n\r\n    // // transform the preprocessed text data into numerical features\r\n    // const transformedTweet = vectorizer.transform(preprocessedTweet);\r\n\r\n    // console.log(transformedTweet); // sparse vector representation of the tweet\r\n\r\n    const natural = require('natural');\r\n    const TfIdf = natural.TfIdf;\r\n    const tfidf = new TfIdf();\r\n\r\n    // add the preprocessed text to the tf-idf object\r\n    tfidf.addDocument(text);\r\n\r\n    console.log (tfidf.listTerms(0) , \"This is the tfidf list terms\");\r\n\r\n    // get the tf-idf weights for the preprocessed text\r\n    const transformedText = tfidf.listTerms(0).map(item => item.tfidf);\r\n\r\n    console.log (transformedText , \"This is the transformed text\");\r\n\r\n    const inputData = transformedText;\r\n\r\n    return inputData;\r\n}\r\n\r\nfunction padOrTruncateSequences(inputData, maxLength) {\r\n    // TODO: Pad or truncate the sequences to the desired length\r\n    // create a new array of the desired length filled with zeros\r\n    const paddedInputData = new Array(maxLength).fill(0);\r\n\r\n    // copy the elements from the inputData array to the paddedInputData array\r\n    for (let i = 0; i < maxLength && i < inputData.length; i++) {\r\n        paddedInputData[i] = inputData[i];\r\n    }\r\n    \r\n    return paddedInputData;\r\n}\r\n\r\nfunction Text_Analyser( tweetTextTruncated ) {\r\n    console.log (\"function Text_Analyser() called\");\r\n\r\n    console.log (\"Preprocessing the text, calling the function preprocessText()\"    );\r\n    const preprocessedtext = preprocessText(tweetTextTruncated);\r\n    console.log (\"Preprocessed Text = \" , preprocessedtext);\r\n\r\n    console.log (\"Converting the text to sequences, calling the function convertTextToSequences()\"    );\r\n    const sequences = convertTextToSequences(preprocessedtext);\r\n    console.log (\"Sequences = \" , sequences);\r\n\r\n    console.log (\"Padding or Truncating the sequences to the desired length, calling the function padOrTruncateSequences()\"    );\r\n    const paddedInputData = padOrTruncateSequences(sequences, 1202);\r\n    console.log (\"Padded Input Data = \" , paddedInputData);\r\n    console.log (\"Padded Input Data Length = \" , paddedInputData.length);\r\n    console.log(\"Padded Input Data Type = \" , typeof paddedInputData);\r\n    console.log(\"Padded Input Data Shape = \" , paddedInputData.shape);\r\n    // const prediction = model1_likepredictor.predict(paddedInputData);\r\n    \r\n    const inputData = tf.tensor2d( paddedInputData , [1, 1202]);\r\n\r\n    model1_likepredictor.then(function(model) {\r\n        const inputShape = model.layers[0].inputShape;\r\n        console.log(inputShape);\r\n        // use the model object here\r\n        const prediction = model.predict(inputData);\r\n        console.log( \"Likes Predicted = \"   , prediction);\r\n    });\r\n\r\n    // const prediction2 = model2_sentimentpredictor.predict(paddedInputData);\r\n\r\n    model2_sentimentpredictor.then(function(model) {\r\n        const inputShape = model.layers[0].inputShape;\r\n        console.log(inputShape);\r\n        // use the model object here\r\n        const prediction = model.predict(inputData);\r\n        console.log( \"Likes Predicted = \"   , prediction);\r\n    });\r\n\r\n    // console.log( \"Likes Predicted = \"   , prediction);\r\n    // console.log( \"Sentiment Predicted = \"   , prediction2);\r\n    \r\n    return true;\r\n}\r\n\r\n\r\n\r\nfunction Main(){\r\n    console.log (\"Main Function Called\");\r\n\r\n\r\n    // Get the text from the tweet box\r\n    console.log (\"Getting the text from the tweet box, calling the function Text_Getter()\");\r\n    const tweetText = Text_Getter();\r\n    // Truncate the text to 280 characters\r\n    console.log (\"Truncating the text to 280 characters, calling the function Text_Truncator()\");\r\n    const tweetTextTruncated = Text_Truncator( tweetText );\r\n    // Update the text in the tweet box to be truncated to 280 characters\r\n    console.log (\"Updating the text in the tweet box to be truncated to 280 characters, calling the function Text_Updater()\");\r\n    Text_Updater( tweetTextTruncated );\r\n    // Analyse the text to see if it is offensive\r\n    const tweetTextAnalysis = Text_Analyser( tweetTextTruncated );\r\n    // If the text is offensive, return true\r\n    if (tweetTextAnalysis === true) {\r\n        // Return the truncated text\r\n\r\n        console.log( tweetTextTruncated );\r\n    } else {\r\n        // If the text is not offensive, return false\r\n        console.log ( \"false\" );\r\n    }\r\n}\r\n\r\n"},"lineCount":null}},"error":null,"hash":"5eab08cfa254187ca8042b186d72abca","cacheData":{"env":{}}}